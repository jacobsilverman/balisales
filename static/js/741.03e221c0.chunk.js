"use strict";(self.webpackChunkbalisales=self.webpackChunkbalisales||[]).push([[741],{1031:function(e,n,i){var s=i(9439),l=i(2791),t=i(9470),r=i(169),o=i(4894),d=i(9230),a=i(184),c=l.lazy((function(){return i.e(893).then(i.bind(i,3893))})),u=l.lazy((function(){return Promise.resolve().then(i.bind(i,3968))}));n.Z=function(e){var n=e.user,i=e.settingsPage,v=(0,l.useState)([]),h=(0,s.Z)(v,2),x=h[0],m=h[1],j=(0,l.useState)(!1),f=(0,s.Z)(j,2),Z=f[0],p=f[1],g=(0,l.useState)({show:!1,item:null}),w=(0,s.Z)(g,2),N=w[0],y=w[1],b=(0,l.useState)({}),S=(0,s.Z)(b,2),k=S[0],R=S[1],C=(0,l.useState)(!1),P=(0,s.Z)(C,2),D=P[0],O=P[1],z=(0,d.$G)().t;return(0,l.useEffect)((function(){(0,o.ww)(n).then((function(e){e.sort((function(e,n){return n.timeStamp-e.timeStamp})),m(e)})).catch((function(){console.error("cant get user posts")})).finally((function(){O(!0)}))}),[]),0===(null===x||void 0===x?void 0:x.length)?D?(0,a.jsx)("h4",{className:"center",children:"No Posts Available"}):(0,a.jsx)(t.Z,{}):(0,a.jsxs)("div",{className:"grid-container-posts",children:[N.show&&(0,a.jsx)(u,{t:z,item:N.item,openSelectModal:N.show,setOpenSelectModal:y}),i&&(0,a.jsx)(c,{item:k,filterPosts:x,setFilterPosts:m,openEditModal:Z,setOpenEditModal:p}),null===x||void 0===x?void 0:x.map((function(e){var n="url(".concat(null===e||void 0===e?void 0:e.urls[0],")");return(0,a.jsx)(r.Z,{displayUrl:n,item:e,settingsPage:i,openSelectModal:N,setOpenSelectModal:y,openEditModal:Z,setOpenEditModal:p,selectedPost:k,setSelectedPost:R},e.id)}))]})}},3455:function(e,n,i){i.d(n,{Z:function(){return d}});var s=i(9439),l=i(2791),t=i(7993),r=i(3883);r.Z.setApiKey("AIzaSyDwxyCrcshK6kl2ICi5UCtepIqNgPz36T4"),r.Z.setLanguage("en"),r.Z.setRegion("es"),r.Z.setLocationType("ROOFTOP"),r.Z.enableDebug();var o=i(184),d=function(e){var n=e.address,i=e.width,d=e.height,a=(0,l.useState)(!0),c=(0,s.Z)(a,2),u=c[0],v=c[1],h=(0,l.useState)([]),x=(0,s.Z)(h,2),m=x[0],j=x[1],f={height:d,width:i};return(0,l.useEffect)((function(){u?v(!1):null!==n&&void 0!==n&&n.address&&null!==n&&void 0!==n&&n.city&&function(e){return r.Z.fromAddress(e).then((function(e){var n=e.results[0].geometry.location;return{lat:n.lat,lng:n.lng}}),(function(e){console.error(e)}))}("".concat(null===n||void 0===n?void 0:n.address," ").concat(null===n||void 0===n?void 0:n.unit," ").concat(null===n||void 0===n?void 0:n.city," ").concat(null===n||void 0===n?void 0:n.state," ").concat(null===n||void 0===n?void 0:n.country," ").concat(null===n||void 0===n?void 0:n.zipcode)).then((function(e){j(e)}))}),[n]),(0,l.useMemo)((function(){if(!u)return(0,o.jsx)(t.b6,{icon:"here",mapContainerStyle:f,zoom:10,center:m,children:(0,o.jsx)(t.Jx,{position:m},"5")});v(!1)}),[m])}},6741:function(e,n,i){i.r(n),i.d(n,{default:function(){return R}});var s=i(1413),l=i(9439),t=i(2791),r=i(4894),o=i(4909),d=i(9135),a=i(1031),c=i(3455),u=i(3723),v=i(7953),h=i(7022),x=i(9743),m=i(2677),j=i(6151),f=i(3433),Z=i(1660),p=i(184),g=function(e){var n=e.name,i=e.id,s=e.message,l=e.date,t=e.rating;return(0,p.jsxs)("article",{className:"review",children:[(0,p.jsx)("a",{className:"review-author",href:"/profile?id="+i,children:n}),(0,p.jsx)(Z.Z,{name:"read-only",value:t,readOnly:!0}),(0,p.jsx)("div",{className:"review-date",children:new Date(l).toDateString()}),(0,p.jsx)("div",{className:"review-message",children:s})]})},w=function(e){var n,i,s=e.userData;return(null===s||void 0===s||null===(n=s.reviews)||void 0===n?void 0:n.length)>0&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(x.Z,{className:"reviews-title-container",children:(0,p.jsx)(m.Z,{xs:12,children:(0,p.jsx)("h2",{children:"Reviews"})})}),(0,p.jsx)(x.Z,{className:"reviews-container",children:(0,p.jsx)(m.Z,{xs:12,children:(i=[].concat((0,f.Z)((null===s||void 0===s?void 0:s.reviews)||[]),(0,f.Z)((null===s||void 0===s?void 0:s.reports)||[])),(0,p.jsx)("div",{className:"reviews-list",children:i.map((function(e){return(0,p.jsx)(g,{name:e.author.displayName,id:e.author.id,message:e.message,date:e.date,rating:e.rating},e.id)}))}))})})]})},N=i(4942),y=i(1747),b=i(6519),S=function(e){var n=e.t,i=e.id,l=e.userData,t=e.reference,o=e.setReference;return(0,p.jsx)(b.Z,{open:null===t||void 0===t?void 0:t.open,children:(0,p.jsx)(x.Z,{className:"modal-dialog offset-top",children:(0,p.jsx)(m.Z,{className:"modal-content review-modal-background ",children:(0,p.jsxs)(x.Z,{children:[(0,p.jsx)(m.Z,{xs:9,children:(0,p.jsxs)("h2",{children:["Write a ","Report"===(null===t||void 0===t?void 0:t.type)?"Report":"Review"]})}),(0,p.jsx)(m.Z,{xs:3,style:{textAlign:"right"},children:(0,p.jsx)(j.Z,{size:"small",color:"error",variant:"contained",id:"paypal-exit-button",onClick:function(){return o({open:!1})},children:(0,p.jsx)("i",{className:"material-icons",children:"close"})})}),(0,p.jsx)(m.Z,{xs:12,className:"center",children:(0,p.jsx)(y.Z,{style:{width:"100%"},minRows:3,maxLength:100,placeholder:n("Description"),label:n("Description"),onChange:function(e){o((function(n){return(0,s.Z)((0,s.Z)({},n),{},{message:e.target.value})}))}})}),(0,p.jsx)(m.Z,{xs:12,className:"center",children:"Reference"===(null===t||void 0===t?void 0:t.type)&&(0,p.jsx)(Z.Z,{size:"large",onChange:function(e,n){o((function(e){return(0,s.Z)((0,s.Z)({},e),{},{rating:n})}))}})}),(0,p.jsx)(j.Z,{onClick:function(){var e,n=(0,s.Z)({},l);n[e="Report"===(null===t||void 0===t?void 0:t.type)?"reports":"reviews"]||(n[e]=[]),n[e].push((0,s.Z)((0,s.Z)({},t),{},{date:Date.now()})),(0,r.Nq)(i,(0,N.Z)({},e,n[e])).then((function(e){console.log(e)})).catch((function(e){alert("something went wrong adding your review - ",e)})).finally((function(){o((function(e){return(0,s.Z)((0,s.Z)({},e),{},{open:!1})})),window.location.reload()}))},children:"Submit"})]})})})})},k=i(9230),R=function(){var e,n,i,f=new URLSearchParams(window.location.search),Z=Object.fromEntries(f.entries()),g=localStorage.getItem("uid"),N=(0,t.useState)(!0),y=(0,l.Z)(N,2),b=y[0],R=y[1],C=(0,t.useState)({}),P=(0,l.Z)(C,2),D=P[0],O=P[1],z=(0,t.useState)(null),M=(0,l.Z)(z,2),E=M[0],U=M[1],A=(0,t.useState)({rating:0,open:!1,author:{id:g,displayName:localStorage.getItem("displayName")}}),I=(0,l.Z)(A,2),Q=I[0],F=I[1],T=(0,k.$G)().t;(0,t.useEffect)((function(){null!==Z&&void 0!==Z&&Z.id&&((0,r.bG)(null===Z||void 0===Z?void 0:Z.id).then((function(e){O(e)})),(0,r.ZU)(null===Z||void 0===Z?void 0:Z.id).then((function(e){U(e)})).catch((function(){U(o)})))}),[]);var L=function(e){F((function(n){return(0,s.Z)((0,s.Z)({},n),{},{type:e,open:!0})}))};return(0,p.jsxs)(h.Z,{className:"user-profile-container",children:[(0,p.jsxs)(x.Z,{children:[(0,p.jsxs)(m.Z,{xs:12,md:null!==D&&void 0!==D&&D.referenceUrl?6:12,className:"user-account-profile-col",children:[(0,p.jsxs)(x.Z,{style:{width:"100%"},children:[(0,p.jsxs)(m.Z,{xs:12,md:null!==D&&void 0!==D&&D.referenceUrl||null===D||void 0===D||!D.address||Object.values(null===D||void 0===D?void 0:D.address).every((function(e){return null===e||""===e}))?12:6,children:[(0,p.jsx)(x.Z,{className:"center",children:(0,p.jsx)(m.Z,{children:(0,p.jsx)("h2",{children:D.displayName})})}),(0,p.jsx)(x.Z,{children:(0,p.jsx)(m.Z,{className:"profile-image center",children:(0,p.jsx)("div",{className:"user-account-profile center",style:{backgroundImage:"url(".concat(E,")")}})})}),(0,p.jsx)(x.Z,{children:g&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(m.Z,{style:{textAlign:"right",paddingTop:"10px"},xs:6,md:6,xxl:6,children:(0,p.jsx)(j.Z,{disabled:(null===Z||void 0===Z?void 0:Z.id)===g,color:"error",onClick:function(){return L("Report")},children:T("Report")})}),(0,p.jsx)(m.Z,{style:{textAlign:"left",paddingTop:"10px"},xs:6,md:6,xxl:6,children:(0,p.jsx)(j.Z,{disabled:(null===Z||void 0===Z?void 0:Z.id)===g,onClick:function(){return L("Reference")},children:T("Review")})})]})})]}),(0,p.jsx)(m.Z,{xs:12,md:null!==D&&void 0!==D&&D.referenceUrl||null===D||void 0===D||!D.address||Object.values(null===D||void 0===D?void 0:D.address).every((function(e){return null===e||""===e}))?12:6,children:(0,p.jsx)(x.Z,{children:(0,p.jsxs)(m.Z,{xs:12,className:"map-col-container",children:[(0,p.jsx)("div",{className:"user-full-name-loc",children:(0,p.jsxs)("div",{className:"user-full-name",children:[!(null!==D&&void 0!==D&&D.address),(0,p.jsxs)("h2",{children:[null===D||void 0===D?void 0:D.firstName," ",null===D||void 0===D?void 0:D.lastName]})]})}),null!==D&&void 0!==D&&D.address?(0,p.jsxs)(x.Z,{children:[(0,p.jsx)(m.Z,{xs:12,className:"map-container",children:(0,p.jsx)(c.Z,{address:D.address,height:"200px",width:"400px",border:"5px solid black"})}),(null===D||void 0===D?void 0:D.address)&&(0,p.jsxs)(m.Z,{xs:12,className:"loc-pin",children:[(0,p.jsx)(d.nkz,{}),"\xa0\xa0\xa0",null===D||void 0===D||null===(e=D.address)||void 0===e?void 0:e.city,", ",null===D||void 0===D||null===(n=D.address)||void 0===n?void 0:n.state]})]}):(0,p.jsx)("div",{className:"center",children:"No address is saved"})]})})})]}),null!==D&&void 0!==D&&D.instagram||null!==D&&void 0!==D&&D.youtube||null!==D&&void 0!==D&&D.twitter||null!==D&&void 0!==D&&D.phoneNumber||null!==D&&void 0!==D&&D.discord||null!==D&&void 0!==D&&D.facebook?(0,p.jsxs)(x.Z,{className:"center social-media-container",children:[(null===D||void 0===D?void 0:D.instagram)&&(0,p.jsx)(m.Z,{xs:2,className:"item",children:(0,p.jsx)(u.QZ,{target:"blank",url:"https://www.instagram.com/"+(null===D||void 0===D?void 0:D.instagram)})}),(null===D||void 0===D?void 0:D.youtube)&&(0,p.jsx)(m.Z,{xs:2,className:"item",children:(0,p.jsx)(u.QZ,{target:"blank",url:"https://www.youtube.com/channel/"+(null===D||void 0===D?void 0:D.youtube)})}),(null===D||void 0===D?void 0:D.twitter)&&(0,p.jsx)(m.Z,{xs:2,className:"item",children:(0,p.jsx)(u.QZ,{target:"blank",url:"https://www.twitter.com/"+(null===D||void 0===D?void 0:D.twitter)})}),(null===D||void 0===D?void 0:D.phoneNumber)&&(0,p.jsx)(m.Z,{xs:2,className:"item",children:(0,p.jsx)(u.QZ,{target:"blank",url:"tel:"+(null===D||void 0===D?void 0:D.phoneNumber),network:"telegram"})}),(null===D||void 0===D?void 0:D.discord)&&(0,p.jsx)(m.Z,{xs:2,className:"item",children:(0,p.jsx)(u.QZ,{target:"blank",url:"https://www.discord.com/users/"+(null===D||void 0===D?void 0:D.discord)})}),(null===D||void 0===D?void 0:D.facebook)&&(0,p.jsx)(m.Z,{xs:2,md:2,className:"item",children:(0,p.jsx)(u.QZ,{target:"blank",url:"https://www.facebook.com/"+(null===D||void 0===D?void 0:D.facebook)})})]}):(0,p.jsx)(x.Z,{children:(0,p.jsx)(m.Z,{className:"center social-media-container",children:"No Contact Method is Saved"})})]}),(null===D||void 0===D?void 0:D.referenceUrl)&&(0,p.jsx)(m.Z,{xs:12,md:6,className:"contact-outer-container",children:(0,p.jsx)(x.Z,{children:(0,p.jsx)(m.Z,{style:{display:"flex",justifyContent:"center"},children:(0,p.jsx)(v.InstagramEmbed,{url:null===D||void 0===D?void 0:D.referenceUrl,width:"330px"})})})})]}),(null===Q||void 0===Q?void 0:Q.open)&&(0,p.jsx)(S,{t:T,id:null===Z||void 0===Z?void 0:Z.id,userData:D,reference:Q,setReference:F}),(0,p.jsxs)(x.Z,{children:[(0,p.jsx)(m.Z,{xs:12,className:"info-dropdown",children:(0,p.jsxs)("h2",{onClick:function(){return R((function(e){return!e}))},children:["Posts\xa0\xa0",(0,p.jsx)("i",{size:"small",className:"material-icons",children:b?"visibility_off":"visibility_on"})]})}),b&&(0,p.jsx)(a.Z,{user:null===Z||void 0===Z?void 0:Z.id,settingsPage:!1})]}),(null===D||void 0===D||null===(i=D.reviews)||void 0===i?void 0:i.length)>0&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("hr",{style:{margin:"0"}}),(0,p.jsx)(w,{userData:D})]})]})}}}]);
//# sourceMappingURL=741.03e221c0.chunk.js.map