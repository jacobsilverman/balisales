"use strict";(self.webpackChunkbalisales=self.webpackChunkbalisales||[]).push([[297],{1297:function(e,n,r){r.r(n),r.d(n,{default:function(){return V}});var t=r(885),s=r(2791),a=r(7022),c=r(9743),i=r(1413),o=r(5987),d=r(1694),l=r.n(d),u=r(162),m=r(6543),x=r(184),h=function(e){return s.forwardRef((function(n,r){return(0,x.jsx)("div",(0,i.Z)((0,i.Z)({},n),{},{ref:r,className:l()(n.className,e)}))}))},f=["bsPrefix","className","variant","as"],p=s.forwardRef((function(e,n){var r=e.bsPrefix,t=e.className,s=e.variant,a=e.as,c=void 0===a?"img":a,d=(0,o.Z)(e,f),m=(0,u.vE)(r,"card-img");return(0,x.jsx)(c,(0,i.Z)({ref:n,className:l()(s?"".concat(m,"-").concat(s):m,t)},d))}));p.displayName="CardImg";var v=p,Z=s.createContext(null);Z.displayName="CardHeaderContext";var b=Z,j=["bsPrefix","className","as"],g=s.forwardRef((function(e,n){var r=e.bsPrefix,t=e.className,a=e.as,c=void 0===a?"div":a,d=(0,o.Z)(e,j),m=(0,u.vE)(r,"card-header"),h=(0,s.useMemo)((function(){return{cardHeaderBsPrefix:m}}),[m]);return(0,x.jsx)(b.Provider,{value:h,children:(0,x.jsx)(c,(0,i.Z)((0,i.Z)({ref:n},d),{},{className:l()(t,m)}))})}));g.displayName="CardHeader";var N=g,y=["bsPrefix","className","bg","text","border","body","children","as"],w=h("h5"),C=h("h6"),k=(0,m.Z)("card-body"),S=(0,m.Z)("card-title",{Component:w}),P=(0,m.Z)("card-subtitle",{Component:C}),I=(0,m.Z)("card-link",{Component:"a"}),R=(0,m.Z)("card-text",{Component:"p"}),z=(0,m.Z)("card-footer"),E=(0,m.Z)("card-img-overlay"),H=s.forwardRef((function(e,n){var r=e.bsPrefix,t=e.className,s=e.bg,a=e.text,c=e.border,d=e.body,m=e.children,h=e.as,f=void 0===h?"div":h,p=(0,o.Z)(e,y),v=(0,u.vE)(r,"card");return(0,x.jsx)(f,(0,i.Z)((0,i.Z)({ref:n},p),{},{className:l()(t,v,s&&"bg-".concat(s),a&&"text-".concat(a),c&&"border-".concat(c)),children:d?(0,x.jsx)(k,{children:m}):m}))}));H.displayName="Card",H.defaultProps={body:!1};var T=Object.assign(H,{Img:v,Title:S,Subtitle:P,Body:k,Link:I,Text:R,Header:N,Footer:z,ImgOverlay:E}),J=r(2677),B=r(2982),D=r(4165),L=r(5861),O=r(9062),U=r(2892),A=localStorage.getItem("uid"),F=localStorage.getItem("displayName"),G=function(){var e=(0,L.Z)((0,D.Z)().mark((function e(n){var r;return(0,D.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,O.hJ)(U.db,"discussions"),e.next=3,(0,O.ET)(r,{body:n,comments:[],timeStamp:Date.now(),displayName:F||"none",userId:A||"none"}).then((function(e){console.log(e)})).catch((function(e){console.error(e)}));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),M=function(){var e=(0,L.Z)((0,D.Z)().mark((function e(){var n,r,t;return(0,D.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,O.hJ)(U.db,"discussions"),e.next=3,(0,O.PL)(n);case 3:return r=e.sent,t=r.docs.map(function(){var e=(0,L.Z)((0,D.Z)().mark((function e(n){return(0,D.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.Z)((0,i.Z)({},n.data()),{},{id:n.id}));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),e.abrupt("return",Promise.all(t));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=(0,L.Z)((0,D.Z)().mark((function e(n,r){var t;return(0,D.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,O.JU)(U.db,"discussions",n.id),e.next=3,(0,O.pl)(t,(0,i.Z)((0,i.Z)({},n),{},{comments:[].concat((0,B.Z)(n.comments),[{comment:r,displayName:F,uid:A}])})).then((function(e){console.log("result: ",e)}));case 3:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),K=function(){var e=(0,L.Z)((0,D.Z)().mark((function e(n,r){var t;return(0,D.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,O.JU)(U.db,"discussions",n.id),n.comments.splice(r,1),e.next=4,(0,O.pl)(t,n).then((function(e){console.log("result: ",e)}));case 4:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),Q=localStorage.getItem("uid"),V=function(){var e=(0,s.useState)(""),n=(0,t.Z)(e,2),r=n[0],i=n[1],o=(0,s.useState)([]),d=(0,t.Z)(o,2),l=d[0],u=d[1],m=(0,s.useState)(""),h=(0,t.Z)(m,2),f=h[0],p=h[1];return(0,s.useEffect)((function(){M().then((function(e){u(e.map((function(e){return e})))}))}),[]),(0,x.jsxs)(a.Z,{className:"discuss-container",children:[(0,x.jsx)(c.Z,{children:(0,x.jsxs)("div",{className:"card-group",children:[(0,x.jsxs)(T,{children:[(0,x.jsx)("div",{className:"card-header",children:(0,x.jsx)("h3",{children:"Goal:"})}),(0,x.jsx)("div",{className:"card-body",children:(0,x.jsx)("h4",{children:"As an ongoing project there are many different routes to facilitate the needs of the users on this site. Here the community can help determine which pathes to prioritize and which improvements are obselete."})})]}),(0,x.jsxs)(T,{children:[(0,x.jsx)("div",{className:"card-header center",children:(0,x.jsx)("h3",{children:"Create Discussion"})}),(0,x.jsx)("div",{className:"card-body center",children:(0,x.jsx)("textarea",{rows:"4",style:{width:"100%",height:"100%"},onChange:function(e){return i(e.target.value)}})}),(0,x.jsx)("div",{className:"card-footer center",children:Q?(0,x.jsx)("button",{className:"btn btn-primary",onClick:function(){return G(r)},children:"submit"}):"please login to create discussion"})]})]})}),(0,x.jsx)(c.Z,{children:(0,x.jsx)("div",{style:{marginTop:"20px"},children:l.map((function(e,n){var r;return console.log("item: ",e),(0,x.jsxs)("div",{className:"card",style:{margin:"20px 0 20px 0"},children:[(0,x.jsx)("div",{className:"card-header",children:(0,x.jsxs)(c.Z,{children:[(0,x.jsx)(J.Z,{xs:11,children:null===e||void 0===e?void 0:e.displayName}),e.userId===Q&&(0,x.jsx)(J.Z,{xs:1,className:"right",children:(0,x.jsx)("button",{className:"btn btn-danger",style:{fontSize:"9px"},children:"x"})})]})}),(0,x.jsx)("h4",{className:"card-text center",children:null===e||void 0===e?void 0:e.body}),(0,x.jsxs)("div",{className:"card-footer",children:[null===e||void 0===e||null===(r=e.comments)||void 0===r?void 0:r.map((function(n,r){return(0,x.jsx)(c.Z,{className:"comment-container",children:(0,x.jsxs)(J.Z,{xs:12,className:"dialog-text",children:[(0,x.jsxs)(c.Z,{style:{fontSize:"12px"},xs:2,children:[(0,x.jsx)(J.Z,{xs:11,children:n.displayName}),(0,x.jsx)(J.Z,{xs:1,className:"right",style:{paddingRight:"0px"},children:n.uid===Q&&(0,x.jsx)("button",{className:"btn btn-danger",style:{fontSize:"9px",borderTopRightRadius:"0px"},onClick:function(){return K(e,r)},children:"x"})})]}),(0,x.jsx)(c.Z,{style:{margin:"5px 0px 5px 0px"},xs:8,children:n.comment})]})})})),Q&&(0,x.jsxs)(c.Z,{className:"add-comment-container",children:[(0,x.jsx)(J.Z,{xs:11,children:(0,x.jsx)("input",{style:{width:"100%"},onChange:function(e){return p(e.target.value)}})}),(0,x.jsx)(J.Z,{xs:1,children:(0,x.jsx)("button",{className:"btn btn-primary",style:{fontSize:"10px"},onClick:function(){q(e,f)},children:"Comment"})})]})]})]},n)}))})})]})}}}]);
//# sourceMappingURL=297.24c78ca4.chunk.js.map