"use strict";(self.webpackChunkbalisales=self.webpackChunkbalisales||[]).push([[154],{4154:function(n,e,i){i.r(e),i.d(e,{default:function(){return b}});var t=i(9439),r=i(2791),s=i(4894),a=i(4165),c=i(1413),l=i(5861),o=i(9062),u=i(2892),d=i(4453),v=function(){var n=(0,l.Z)((0,a.Z)().mark((function n(e){var i,t;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=(0,o.JU)(u.db,"posts",e),n.next=3,(0,o.QT)(i).then(function(){var n=(0,l.Z)((0,a.Z)().mark((function n(e){var i,t,r,s;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=(0,c.Z)((0,c.Z)({},e.data()),{},{id:e.id,urls:[]}),t=0;case 2:if(!(t<i.numberOfImages)){n.next=12;break}return n.next=5,(0,d.cF)();case 5:return r=n.sent,s=(0,d.iH)(r,"/PostImages/".concat(e.id,"/image-").concat(t)),n.next=9,(0,d.Jt)(s).then((function(n){i.urls.push(n)})).catch((function(n){console.error(n)}));case 9:t++,n.next=2;break;case 12:return n.abrupt("return",i);case 14:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());case 3:return t=n.sent,n.abrupt("return",t);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),h=i(4909),m=i(9470),p=i(2677),f=i(9743),x=i(6151),j=i(3504),Z=i(9230),g=i(184);var b=function(){var n,e,i=new URLSearchParams(window.location.search),a=Object.fromEntries(i.entries()),c=(0,Z.$G)().t,l=(0,r.useState)(null),o=(0,t.Z)(l,2),u=o[0],d=o[1],b=(0,r.useState)(0),N=(0,t.Z)(b,2),k=N[0],w=N[1],y=(0,r.useState)({}),I=(0,t.Z)(y,2),C=I[0],S=I[1],O=(0,r.useState)(),U=(0,t.Z)(O,2),D=U[0],E=U[1];(0,r.useEffect)((function(){v(a.id).then((function(n){var e=new Date(null===n||void 0===n?void 0:n.timeStamp).toLocaleDateString();S(n),d(e)}))}),[]),(0,r.useEffect)((function(){var n,e;null!==C&&void 0!==C&&null!==(n=C.author)&&void 0!==n&&n.id&&(0,s.ZU)(null===C||void 0===C||null===(e=C.author)||void 0===e?void 0:e.id).then((function(n){E(n)})).catch((function(){E(h)}))}),[C]);var P=null===C||void 0===C||null===(n=C.urls)||void 0===n?void 0:n.map((function(n,e){var i,t,r="".concat(e===k?"show":"hidden"," image-container align-items-end");return(0,g.jsx)(p.Z,{xs:11,sm:11,md:7,style:{backgroundImage:"url(".concat(n,")")},className:r,children:(0,g.jsxs)(j.rU,{className:"link-wrapper",to:{pathname:"/profile",search:"id="+(null===C||void 0===C||null===(i=C.author)||void 0===i?void 0:i.id)},children:[(0,g.jsx)("div",{className:"display-name",children:null===C||void 0===C||null===(t=C.author)||void 0===t?void 0:t.name}),(0,g.jsx)("div",{className:"account-profile center",style:{backgroundImage:"url(".concat(D,")")}})]})})})),F=(0,g.jsx)(f.Z,{className:"all-pictures",children:null===C||void 0===C||null===(e=C.urls)||void 0===e?void 0:e.map((function(n,e){return(0,g.jsx)(p.Z,{className:"individual-picture",style:{backgroundImage:"url(".concat(n,")"),backgroundSize:"100% 100%",maxWidth:"75px",height:"100px",opacity:k===e?".5":"1"},onClick:function(){w(e)}},n)}))}),J=(0,g.jsxs)(r.Fragment,{children:[(0,g.jsx)(p.Z,{xs:12,className:"display-title center",children:(0,g.jsx)("h1",{children:null===C||void 0===C?void 0:C.title})}),(null===C||void 0===C?void 0:C.urls)&&P,(null===C||void 0===C?void 0:C.numberOfImages)>1&&F,(null===C||void 0===C?void 0:C.numberOfImages)>1&&(0,g.jsxs)(f.Z,{children:[(0,g.jsx)(p.Z,{xs:6,className:"previous-image",children:(0,g.jsx)(x.Z,{variant:"contained",onClick:function(){return w((function(n){return n-1<0?(null===C||void 0===C?void 0:C.numberOfImages)-1:n-1}))},children:c("Previous")})}),(0,g.jsx)(p.Z,{xs:6,className:"next-image",children:(0,g.jsx)(x.Z,{variant:"contained",onClick:function(){return w((function(n){return(n+1)%(null===C||void 0===C?void 0:C.numberOfImages)}))},children:c("Next")})})]}),(0,g.jsx)(f.Z,{style:{justifyContent:"center"},children:(0,g.jsxs)(p.Z,{xs:12,className:"info-container",children:[(0,g.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly"},children:[(0,g.jsxs)("div",{className:"content-wrapper",children:[(0,g.jsx)("div",{className:"desciption-title",children:c("Created")}),u]}),(0,g.jsxs)("div",{className:"content-wrapper",children:[(0,g.jsx)("div",{className:"desciption-title",children:c(null===C||void 0===C?void 0:C.type)}),null===C||void 0===C?void 0:C.price]}),(0,g.jsxs)("div",{className:"content-wrapper",children:[(0,g.jsx)("div",{className:"desciption-title",children:null===C||void 0===C?void 0:C.condition}),null===C||void 0===C?void 0:C.brand]})]}),(0,g.jsxs)(f.Z,{className:"content-wrapper",children:[(0,g.jsx)("div",{className:"desciption-title",children:c("Description")}),(0,g.jsx)(p.Z,{xs:12,children:null===C||void 0===C?void 0:C.description})]})]})})]});return u&&C&&D?J:(0,g.jsx)(m.Z,{})}}}]);
//# sourceMappingURL=154.49b3f58a.chunk.js.map