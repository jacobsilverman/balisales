"use strict";(self.webpackChunkbalisales=self.webpackChunkbalisales||[]).push([[740],{1031:function(e,t,a){var s=a(9439),n=a(2791),i=a(9470),r=a(169),l=a(4894),o=a(184),u=n.lazy((function(){return a.e(893).then(a.bind(a,3893))}));t.Z=function(e){var t=e.user,a=e.settingsPage,c=(0,n.useState)([]),m=(0,s.Z)(c,2),d=m[0],h=m[1],g=(0,n.useState)(!1),f=(0,s.Z)(g,2),p=f[0],Z=f[1],N=(0,n.useState)({}),x=(0,s.Z)(N,2),b=x[0],v=x[1];return(0,n.useEffect)((function(){(0,l.ww)(t).then((function(e){e.sort((function(e,t){return t.timeStamp-e.timeStamp})),h(e)})).catch((function(){console.error("cant get user posts")}))}),[]),0===(null===d||void 0===d?void 0:d.length)?(0,o.jsx)(i.Z,{}):(0,o.jsxs)("div",{style:{padding:"20px"},className:"grid-container-posts",children:[a&&(0,o.jsx)(u,{item:b,filterPosts:d,setFilterPosts:h,openEditModal:p,setOpenEditModal:Z}),null===d||void 0===d?void 0:d.map((function(e){var t="url(".concat(null===e||void 0===e?void 0:e.urls[0],")"),s="id="+(null===e||void 0===e?void 0:e.id);return(0,o.jsx)(r.Z,{displayUrl:t,item:e,queryParam:s,settingsPage:a,openEditModal:p,setOpenEditModal:Z,selectedPost:b,setSelectedPost:v},e.id)}))]})}},740:function(e,t,a){a.r(t),a.d(t,{default:function(){return Z}});var s=a(7022),n=a(9743),i=a(1413),r=a(9439),l=a(2791),o=a(2677),u=a(4894),c=a(9135),m=a(6151),d=a(4530),h=a(9230),g=a(184),f=function(e){var t=e.id,a=(0,l.useState)(""),s=(0,r.Z)(a,2),f=s[0],p=s[1],Z=(0,l.useState)(""),N=(0,r.Z)(Z,2),x=N[0],b=N[1],v=(0,l.useState)(""),j=(0,r.Z)(v,2),y=j[0],S=j[1],w=(0,l.useState)(""),k=(0,r.Z)(w,2),P=k[0],C=k[1],E=(0,l.useState)("https://www.instagram.com/"),W=(0,r.Z)(E,2),$=W[0],M=W[1],_=(0,l.useState)("https://www.facebook.com/"),F=(0,r.Z)(_,2),L=F[0],O=F[1],U=(0,l.useState)(""),z=(0,r.Z)(U,2),G=z[0],I=z[1],R=(0,l.useState)([]),T=(0,r.Z)(R,2),q=T[0],D=T[1],H=(0,l.useState)(null),A=(0,r.Z)(H,2),B=A[0],J=A[1],K=(0,l.useState)({firstName:!1,lastName:!1,displayName:!1,phoneNumber:!0,instagram:!0,facebook:!0}),Q=(0,r.Z)(K,2),V=Q[0],X=Q[1],Y=(0,h.$G)().t,ee=(0,l.useMemo)((function(){return!Object.values(V).some((function(e){return!1===e}))}),[V]);(0,l.useEffect)((function(){(0,u.bG)().then((function(e){p(e.firstName),b(e.lastName),S(e.displayName),C(e.phoneNumber),M(e.instagram),O(e.facebook),D(e.posts||[]),X({firstName:e.firstName.length>0,lastName:e.lastName.length>0,displayName:e.displayName.length>0,phoneNumber:0===e.phoneNumber.length||10===e.phoneNumber.length,instagram:!0,facebook:!0})}))}),[]);var te;return(0,g.jsxs)(o.Z,{xs:12,className:"center settings-container",children:[(0,g.jsxs)(n.Z,{children:[(0,g.jsx)(o.Z,{xs:12,md:"6",lg:4,className:"setting-item",children:(0,g.jsx)(d.Z,{fullWidth:!0,label:Y("First Name"),error:!V.firstName,type:"search",onChange:function(e){var t=e.target.value;t.match(/['\-"><;:\\+{}!@#$%=^*_|[\]]/)||(X((function(e){return(0,i.Z)((0,i.Z)({},e),{},{firstName:""!==t})})),p(t))},value:f})}),(0,g.jsx)(o.Z,{xs:12,md:"6",lg:4,className:"setting-item",children:(0,g.jsx)(d.Z,{fullWidth:!0,label:Y("Last Name"),error:!V.lastName,type:"search",onChange:function(e){var t=e.target.value;t.match(/['\-"><;:\\+{}!@#$%=^*_|[\]]/)||(X((function(e){return(0,i.Z)((0,i.Z)({},e),{},{lastName:""!==t})})),b(t))},value:x})}),(0,g.jsx)(o.Z,{xs:12,md:"6",lg:4,className:"setting-item",children:(0,g.jsx)(d.Z,{fullWidth:!0,label:Y("Display Name"),error:!V.displayName,type:"search",onChange:function(e){var t=e.target.value;t.match(/['\-"><;:\\+{}!@#$%=^*_|[\]]/)||(X((function(e){return(0,i.Z)((0,i.Z)({},e),{},{displayName:""!==t})})),S(t))},value:y})}),(0,g.jsx)(o.Z,{xs:12,md:"6",lg:4,className:"setting-item",children:(0,g.jsx)(d.Z,{fullWidth:!0,label:Y("Phone Number"),error:!V.phoneNumber,onChange:function(e){var t=e.target.value.replace("(","").replace(")","").replace(" ","").replace("-","");X((function(e){return(0,i.Z)((0,i.Z)({},e),{},{phoneNumber:0===t.length||10===t.length})})),C(t)},value:(te=P,isNaN(te)?"":(te.length>3?"(":"")+te.substring(0,3)+(te.length>3?") ":"")+te.substring(3,6)+(te.length>6?"-":"")+te.substring(6,10)),inputProps:{maxLength:14}})}),(0,g.jsx)(o.Z,{xs:12,md:"6",lg:4,className:"setting-item",children:(0,g.jsx)(d.Z,{fullWidth:!0,label:Y("Instagram"),color:"",type:"url",error:!V.instagram,onChange:function(e){var t=e.target.value;if(!t.match(/['\-"><;\\+{}!@#$%=^*_|[\]]/)){var a=t.split("/");"undefined"!==typeof a[3]&&(X((function(e){return(0,i.Z)((0,i.Z)({},e),{},{instagram:a[3].length>0})})),M("https://www.instagram.com/"+a[3]))}},value:$})}),(0,g.jsx)(o.Z,{xs:12,md:"6",lg:4,className:"setting-item",children:(0,g.jsx)(d.Z,{fullWidth:!0,label:Y("Facebook"),color:"",type:"url",error:!V.facebook,onChange:function(e){var t=e.target.value;if(!t.match(/['\-"><;\\+{}!@#$%=^*_|[\]]/)){var a=t.split("/");"undefined"!==typeof a[3]&&(X((function(e){return(0,i.Z)((0,i.Z)({},e),{},{facebook:a[3].length>0})})),O("https://www.facebook.com/"+a[3]))}},value:L})}),(0,g.jsx)(o.Z,{xs:12,className:"setting-item",children:(0,g.jsxs)("label",{className:"profile-label",htmlFor:"inputTag",children:[(0,g.jsx)("span",{style:{color:"black"},children:Y("Profile Picture")}),(0,g.jsx)("input",{id:"inputTag",className:"profile-input",type:"file",onChange:function(e){I(e.target.files[0]),J(URL.createObjectURL(e.target.files[0]))},accept:"/image/*"}),(0,g.jsx)("br",{}),B?(0,g.jsx)("img",{src:B,className:"upload-image",alt:"preview image"}):(0,g.jsx)(c.H3h,{size:40})]})})]}),(0,g.jsx)(n.Z,{children:(0,g.jsx)(o.Z,{xs:12,className:"submit-button",children:(0,g.jsx)(m.Z,{disabled:!ee,variant:"contained",onClick:function(){return(0,u.ps)({id:t,firstName:f,lastName:x,displayName:y,phoneNumber:P,instagram:$,facebook:L,posts:q},G)},children:Y("Submit")})})})]})},p=a(1031).Z;var Z=function(){var e=localStorage.getItem("uid");return(0,g.jsx)(s.Z,{children:(0,g.jsxs)(n.Z,{children:[(0,g.jsx)(f,{id:e}),(0,g.jsx)("hr",{}),(0,g.jsx)(p,{user:e,settingsPage:!0})]})})}}}]);
//# sourceMappingURL=740.33371828.chunk.js.map