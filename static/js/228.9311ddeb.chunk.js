"use strict";(self.webpackChunkbalisales=self.webpackChunkbalisales||[]).push([[228],{1822:function(e,n,t){t.r(n),t.d(n,{default:function(){return I}});var a=t(4165),l=t(5861),r=t(2982),i=t(885),s=t(2791),c=t(2677),u=t(7022),o=t(9743),d=t(6157),f=t(1083),h=t(4894),v=t(9062),b=t(2892),Z=t(4453),m=t(9135),p=t(4530),x=t(6362),g=t(9891),j=t(4925),N=t(3347),y=t(1747),S=t(184);var C=function(){var e=(0,s.useState)(""),n=(0,i.Z)(e,2),t=n[0],C=n[1],I=(0,s.useState)(""),k=(0,i.Z)(I,2),w=k[0],B=k[1],P=(0,s.useState)(""),O=(0,i.Z)(P,2),T=O[0],W=O[1],D=(0,s.useState)(""),R=(0,i.Z)(D,2),U=R[0],z=R[1],E=(0,s.useState)(""),H=(0,i.Z)(E,2),L=H[0],F=H[1],J=(0,s.useState)(""),K=(0,i.Z)(J,2),M=K[0],V=K[1],Y=(0,s.useState)(""),_=(0,i.Z)(Y,2),q=(_[0],_[1]),A=(0,s.useState)(!1),G=(0,i.Z)(A,2),Q=G[0],X=G[1],$=(0,s.useState)([]),ee=(0,i.Z)($,2),ne=ee[0],te=ee[1],ae=(0,s.useState)([]),le=(0,i.Z)(ae,2),re=le[0],ie=le[1],se=(0,s.useState)(0),ce=(0,i.Z)(se,2),ue=(ce[0],ce[1]),oe=(0,s.useState)(0),de=(0,i.Z)(oe,2),fe=de[0],he=de[1],ve=function(){var e=(0,l.Z)((0,a.Z)().mark((function e(){var n,l,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return X(!0),r=(0,v.hJ)(b.db,"posts"),e.next=4,(0,v.ET)(r,{title:t,type:T,brand:U,condition:L,price:M,description:w,numberOfImages:ne.length,timeStamp:Date.now(),author:{name:(null===b.I8||void 0===b.I8||null===(n=b.I8.currentUser)||void 0===n?void 0:n.displayName)||"anonymous",id:(null===b.I8||void 0===b.I8||null===(l=b.I8.currentUser)||void 0===l?void 0:l.uid)||"none"}}).then((function(e){ne[0]||alert("Please upload an image first!");var n=[];return ne.map((function(t,a){var l=(0,Z.iH)(b.tO,"/PostImages/".concat(e.id,"/image-").concat(a)),r=(0,Z.B0)(l,t);n.push(r),r.on("state_changed",(function(e){var n=Math.round(e.bytesTransferred/e.totalBytes*100);ue(n)}),(function(e){return console.log(e)}),(function(){console.log(l)}))})),Promise.all(n).then((function(){console.log("all uploaded")})).catch((function(e){console.error(e)})),e})).then((function(e){(0,h.iy)(e.id)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),be=function(e){return e.map((function(e,n){return(0,S.jsx)(g.Z,{value:e,children:e},n)}))};return(0,S.jsxs)(u.Z,{className:"create-container",children:[(0,S.jsxs)(o.Z,{children:[(0,S.jsx)(c.Z,{xs:12,md:6,className:"create-input",children:(0,S.jsx)(p.Z,{fullWidth:!0,label:"title",color:"",onChange:function(e){return C(e.target.value)}})}),(0,S.jsx)(c.Z,{xs:12,md:6,className:"create-input",children:(0,S.jsx)(p.Z,{fullWidth:!0,label:"price",color:"",onChange:function(e){return V(e.target.value)}})}),(0,S.jsx)(c.Z,{xs:12,md:6,className:"create-input",children:(0,S.jsxs)(x.Z,{fullWidth:!0,children:[(0,S.jsx)(j.Z,{id:"brand-label",children:"Brand"}),(0,S.jsxs)(N.Z,{labelId:"brand-label",id:"brand-select",label:"Brand",onChange:function(e){return z(e.target.value)},children:[(0,S.jsx)(g.Z,{value:"default",children:"default"}),be(f.YS)]})]})}),(0,S.jsx)(c.Z,{xs:12,md:6,className:"create-input",children:(0,S.jsxs)(x.Z,{fullWidth:!0,children:[(0,S.jsx)(j.Z,{id:"sale-type-label",children:"Sale Type"}),(0,S.jsxs)(N.Z,{labelId:"sale-type-label",id:"sale-type-select",label:"Sale Type",onChange:function(e){return W(e.target.value)},children:[(0,S.jsx)(g.Z,{value:"default",children:"default"}),be(f.V5)]})]})}),(0,S.jsx)(c.Z,{xs:12,md:6,className:"create-input",children:(0,S.jsxs)(x.Z,{fullWidth:!0,children:[(0,S.jsx)(j.Z,{id:"condition-label",children:"Condition"}),(0,S.jsxs)(N.Z,{labelId:"condition-label",id:"condition-select",label:"Condition",onChange:function(e){return F(e.target.value)},children:[(0,S.jsx)(g.Z,{value:"default",children:"default"}),be([1,2,3,4,5,6,7,8,9,10])]})]})}),(0,S.jsx)(c.Z,{xs:12,md:6,className:"create-input",children:(0,S.jsxs)(x.Z,{fullWidth:!0,children:[(0,S.jsx)(j.Z,{id:"blade-label",children:"Blade"}),(0,S.jsxs)(N.Z,{labelId:"blade-label",id:"blade-select",label:"Blade",onChange:function(e){return q(e.target.value)},children:[(0,S.jsx)(g.Z,{value:"default",children:"default"}),be(f.SP)]})]})})]}),(0,S.jsx)(o.Z,{children:(0,S.jsx)(c.Z,{xs:12,children:(0,S.jsx)(y.Z,{style:{width:"100%"},minRows:5,value:w,placeholder:"Description",label:"description",onChange:function(e){return B(e.target.value)}})})}),(0,S.jsx)(o.Z,{children:function(){for(var e=[],n=function(n){var t;e.push((0,S.jsx)(c.Z,{xs:"12",sm:fe>0?6:12,className:"setting-item center",children:(0,S.jsxs)("label",{className:"profile-label",htmlFor:"inputTag-"+n,onClick:0!==n&&function(){var e;0!==(e=n)&&(ie((function(n){return n.splice(e,1)})),te((function(n){return n.splice(e,1)})),he((function(e){return e-1})))},children:[(0,S.jsx)("span",{children:(null===(t=ne[fe-n])||void 0===t?void 0:t.name)||"Upload Image"}),0===n&&(0,S.jsx)("input",{id:"inputTag-"+n,className:"profile-input",type:"file",onChange:function(e){return t=e,a=n,console.log(t.target.files[0]),t.target.files&&t.target.files[0]&&0===a&&(ie([URL.createObjectURL(t.target.files[0])].concat((0,r.Z)(re))),te((function(e){return[].concat((0,r.Z)(e),[t.target.files[0]])})),he((function(e){return e+1}))),void console.log(a);var t,a},accept:"/image/*"}),(0,S.jsx)("br",{}),0===n?(0,S.jsx)(m.H3h,{size:70,className:""}):(0,S.jsx)("img",{src:re[fe-n],className:"upload-image",alt:"preview image"})]})},n))},t=0;t<=fe;t++)n(t);return e}()}),(0,S.jsx)(o.Z,{children:(0,S.jsx)(c.Z,{xs:12,className:"center",children:(0,S.jsx)(d.Z,{disabled:Q,className:"submit-button",onClick:ve,children:"Submit"})})})]})},I=C},3967:function(e,n,t){t.d(n,{Z:function(){return r}});t(2791);var a=t(886),l=t(4591);function r(){return(0,a.Z)(l.Z)}},6157:function(e,n,t){t.d(n,{Z:function(){return Z}});var a=t(1413),l=t(885),r=t(5987),i=t(1694),s=t.n(i),c=t(2791),u=t(184),o=["as","disabled"];function d(e){var n=e.tagName,t=e.disabled,a=e.href,l=e.target,r=e.rel,i=e.role,s=e.onClick,c=e.tabIndex,u=void 0===c?0:c,o=e.type;n||(n=null!=a||null!=l||null!=r?"a":"button");var d={tagName:n};if("button"===n)return[{type:o||"button",disabled:t},d];var f=function(e){(t||"a"===n&&function(e){return!e||"#"===e.trim()}(a))&&e.preventDefault(),t?e.stopPropagation():null==s||s(e)};return"a"===n&&(a||(a="#"),t&&(a=void 0)),[{role:null!=i?i:"button",disabled:void 0,tabIndex:t?void 0:u,href:a,target:"a"===n?l:void 0,"aria-disabled":t||void 0,rel:"a"===n?r:void 0,onClick:f,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),f(e))}},d]}var f=c.forwardRef((function(e,n){var t=e.as,a=e.disabled,r=function(e,n){if(null==e)return{};var t,a,l={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(l[t]=e[t]);return l}(e,o),i=d(Object.assign({tagName:t,disabled:a},r)),s=(0,l.Z)(i,2),c=s[0],f=s[1].tagName;return(0,u.jsx)(f,Object.assign({},r,c,{ref:n}))}));f.displayName="Button";var h=t(162),v=["as","bsPrefix","variant","size","active","className"],b=c.forwardRef((function(e,n){var t=e.as,i=e.bsPrefix,c=e.variant,o=e.size,f=e.active,b=e.className,Z=(0,r.Z)(e,v),m=(0,h.vE)(i,"btn"),p=d((0,a.Z)({tagName:t},Z)),x=(0,l.Z)(p,2),g=x[0],j=x[1].tagName;return(0,u.jsx)(j,(0,a.Z)((0,a.Z)((0,a.Z)({},g),Z),{},{ref:n,className:s()(b,m,f&&"active",c&&"".concat(m,"-").concat(c),o&&"".concat(m,"-").concat(o),Z.href&&Z.disabled&&"disabled")}))}));b.displayName="Button",b.defaultProps={variant:"primary",active:!1,disabled:!1};var Z=b}}]);
//# sourceMappingURL=228.9311ddeb.chunk.js.map