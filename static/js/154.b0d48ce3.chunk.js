"use strict";(self.webpackChunkbalisales=self.webpackChunkbalisales||[]).push([[154],{4154:function(e,n,i){i.r(n),i.d(n,{default:function(){return N}});var t=i(885),s=i(2791),r=i(4894),a=i(4165),c=i(1413),l=i(5861),o=i(9062),d=i(2892),u=i(4453),v=function(){var e=(0,l.Z)((0,a.Z)().mark((function e(n){var i,t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,o.JU)(d.db,"posts",n),e.next=3,(0,o.QT)(i).then(function(){var e=(0,l.Z)((0,a.Z)().mark((function e(n){var i,t,s,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=(0,c.Z)((0,c.Z)({},n.data()),{},{id:n.id,urls:[]}),t=0;case 2:if(!(t<i.numberOfImages)){e.next=12;break}return e.next=5,(0,u.cF)();case 5:return s=e.sent,r=(0,u.iH)(s,"/PostImages/".concat(n.id,"/image-").concat(t)),e.next=9,(0,u.Jt)(r).then((function(e){i.urls.push(e)})).catch((function(e){console.error(e)}));case 9:t++,e.next=2;break;case 12:return e.abrupt("return",i);case 14:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),h=i(4909),m=i(6564),p=i(2677),x=i(9743),f=i(6151),j=i(3504),Z=i(184);var N=function(){var e,n,i=new URLSearchParams(window.location.search),a=Object.fromEntries(i.entries()),c=(0,s.useState)(null),l=(0,t.Z)(c,2),o=l[0],d=l[1],u=(0,s.useState)(0),N=(0,t.Z)(u,2),b=N[0],g=N[1],w=(0,s.useState)({}),k=(0,t.Z)(w,2),y=k[0],C=k[1],I=(0,s.useState)(),S=(0,t.Z)(I,2),O=S[0],U=S[1];(0,s.useEffect)((function(){v(a.id).then((function(e){var n=new Date(null===e||void 0===e?void 0:e.timeStamp).toLocaleDateString();C(e),d(n)}))}),[]),(0,s.useEffect)((function(){var e;(0,r.ZU)(null===y||void 0===y||null===(e=y.author)||void 0===e?void 0:e.id).then((function(e){U(e)})).catch((function(){U(h)}))}),[y]);var E=(0,Z.jsxs)(s.Fragment,{children:[(0,Z.jsx)(p.Z,{xs:12,className:"display-title center",children:(0,Z.jsx)("h1",{children:null===y||void 0===y?void 0:y.title})}),(null===y||void 0===y?void 0:y.urls)&&(0,Z.jsx)(p.Z,{xs:11,sm:11,md:7,style:{backgroundImage:"url(".concat(null===y||void 0===y?void 0:y.urls[b],")")},className:"image-container align-items-end",children:(0,Z.jsxs)(j.rU,{className:"link-wrapper",to:{pathname:"/profile",search:"id="+(null===y||void 0===y||null===(e=y.author)||void 0===e?void 0:e.id)},children:[(0,Z.jsx)("div",{className:"display-name",children:null===y||void 0===y||null===(n=y.author)||void 0===n?void 0:n.name}),(0,Z.jsx)("div",{className:"account-profile center",style:{backgroundImage:"url(".concat(O,")")}})]})}),(null===y||void 0===y?void 0:y.numberOfImages)>1&&(0,Z.jsxs)(x.Z,{children:[(0,Z.jsx)(p.Z,{xs:6,className:"previous-image",children:(0,Z.jsx)(f.Z,{variant:"contained",onClick:function(){return g((function(e){return e-1<0?(null===y||void 0===y?void 0:y.numberOfImages)-1:e-1}))},children:"Previous"})}),(0,Z.jsx)(p.Z,{xs:6,className:"next-image",children:(0,Z.jsx)(f.Z,{variant:"contained",onClick:function(){return g((function(e){return(e+1)%(null===y||void 0===y?void 0:y.numberOfImages)}))},children:"Next"})})]}),(0,Z.jsx)(x.Z,{style:{justifyContent:"center"},children:(0,Z.jsxs)(p.Z,{xs:12,sm:12,className:"info-container",children:[(0,Z.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly"},children:[(0,Z.jsxs)("div",{className:"content-wrapper",children:[(0,Z.jsx)("div",{className:"desciption-title",children:"Created"}),o]}),(0,Z.jsxs)("div",{className:"content-wrapper",children:[(0,Z.jsx)("div",{className:"desciption-title",children:null===y||void 0===y?void 0:y.type}),null===y||void 0===y?void 0:y.price]}),(0,Z.jsxs)("div",{className:"content-wrapper",children:[(0,Z.jsx)("div",{className:"desciption-title",children:null===y||void 0===y?void 0:y.condition}),null===y||void 0===y?void 0:y.brand]})]}),(0,Z.jsxs)(x.Z,{className:"content-wrapper",children:[(0,Z.jsx)("div",{className:"desciption-title",children:"description"}),(0,Z.jsx)(p.Z,{xs:12,children:null===y||void 0===y?void 0:y.description})]})]})})]});return o&&y&&O?E:(0,Z.jsx)(x.Z,{children:(0,Z.jsx)(p.Z,{xs:12,className:"center",children:(0,Z.jsx)(m.Z,{size:150})})})}}}]);
//# sourceMappingURL=154.b0d48ce3.chunk.js.map