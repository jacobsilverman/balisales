"use strict";(self.webpackChunkbalisales=self.webpackChunkbalisales||[]).push([[929,906],{8679:function(e,n,t){t.d(n,{Z:function(){return j}});var s=t(4165),l=t(5861),a=t(885),i=t(2791),r=t(7342),c=t(9743),o=t(2677),u=t(6564),d=t(1089),h=t(4894),m=t(4453),x=t(9062),f=t(2892),Z=t(184);var j=function(e){var n=e.user,t=e.accountView,j=(0,i.useState)([]),p=(0,a.Z)(j,2),g=p[0],v=p[1];(0,i.useEffect)((function(){(0,h.ww)(n).then((function(e){v(e)})).catch((function(){console.error("cant get user posts")}))}),[]);var b=function(){var e=(0,l.Z)((0,s.Z)().mark((function e(n){var t,l,a,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,m.cF)(),l=(0,x.JU)(f.db,"posts",n.id),e.next=4,(0,x.oe)(l);case 4:(0,h.sq)(n.id),a=0;case 6:if(!(a<n.numberOfImages)){e.next=13;break}return i=(0,m.iH)(t,"PostImages/".concat(n.id,"/image-").concat(a)),e.next=10,(0,m.oq)(i);case 10:a++,e.next=6;break;case 13:v(null===g||void 0===g?void 0:g.filter((function(e){return e.id!==n.id})));case 14:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,Z.jsx)(i.Fragment,{children:function(){if(0===g.length)return(0,Z.jsx)(c.Z,{children:(0,Z.jsx)(o.Z,{xs:12,className:"center",children:(0,Z.jsx)(u.Z,{size:150})})});for(var e=[],n=[],s=0;s<g.length;s++)n.push(g[s]),(s+1)%3!==0&&s!==g.length-1||(e.push(n),n=[]);return e.length>0&&(0,Z.jsx)(r.ZP,{container:!0,style:{padding:"0px"},className:"grid-container-posts",children:e.map((function(e){return e.map((function(e){return(0,Z.jsx)(d.Z,{item:e,accountView:t,deletePost:b},e.id)}))}))})||(0,Z.jsx)(c.Z,{children:(0,Z.jsx)(o.Z,{xs:12,className:"center",children:"No Posts Available"})})}()})}},906:function(e,n,t){t.r(n);var s=t(8679);n.default=s.Z},1089:function(e,n,t){t.d(n,{Z:function(){return y}});var s=t(885),l=t(2791),a=t(3504),i=t(7342),r=t(4165),c=t(5861),o=t(1083),u=t(6519),d=t(9743),h=t(2677),m=t(6157),x=t(184),f=function(e){var n=e.deletePost,t=e.item,s=e.openDeleteModal,l=e.setOpenDeleteModal;return(0,x.jsx)(u.Z,{open:s,id:"delete-modal",children:(0,x.jsx)(d.Z,{className:"modal-dialog delete-modal",children:(0,x.jsxs)(h.Z,{xs:5,sm:5,md:2,className:"modal-content modal-background center",children:[(0,x.jsx)(d.Z,{className:"modal-header",children:(0,x.jsx)(h.Z,{className:"modal-title",children:"Do you want to delete this post?"})}),(0,x.jsxs)(d.Z,{children:[(0,x.jsx)(h.Z,{xs:6,children:(0,x.jsx)(m.Z,{onClick:function(){return l(!1)},children:"no"})}),(0,x.jsx)(h.Z,{xs:6,children:(0,x.jsx)(m.Z,{onClick:function(){n(t),l(!1)},children:"yes"})})]})]})})})},Z=t(1747),j=t(4530),p=t(6362),g=t(9891),v=t(4925),b=t(3347),N=t(9062),C=t(2892),w=t(9135),S=t(4453),k=function(e){var n=e.item,t=e.openEditModal,a=e.setOpenEditModal,k=e.deletePost,y=(0,l.useState)(n.title),P=(0,s.Z)(y,2),V=P[0],z=P[1],H=(0,l.useState)(n.description),I=(0,s.Z)(H,2),M=I[0],W=I[1],D=(0,l.useState)(n.type),O=(0,s.Z)(D,2),E=O[0],F=O[1],R=(0,l.useState)(n.brand),U=(0,s.Z)(R,2),B=U[0],T=U[1],L=(0,l.useState)(n.condition),q=(0,s.Z)(L,2),J=q[0],A=q[1],G=(0,l.useState)(n.price),Y=(0,s.Z)(G,2),K=Y[0],Q=Y[1],X=(0,l.useState)(!1),$=(0,s.Z)(X,2),_=$[0],ee=$[1],ne=(0,l.useState)(n.numberOfImages),te=(0,s.Z)(ne,2),se=te[0],le=(te[1],(0,l.useState)({})),ae=(0,s.Z)(le,2),ie=ae[0],re=ae[1],ce=(0,l.useState)(""),oe=(0,s.Z)(ce,2),ue=(oe[0],oe[1]);var de=function(e){return e.map((function(e,n){return(0,x.jsx)("option",{value:e,children:e},n)}))},he=function(){var e=(0,c.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,N.JU)(C.db,"posts",n.id),e.next=3,(0,N.pl)(t,{title:V,type:E,brand:B,condition:J,price:K,description:M,timeStamp:Date.now(),numberOfImages:se,author:{name:n.author.name,id:n.author.id}}).then((function(){var e=(0,S.iH)((0,S.cF)(),"PostImages/".concat(n.id,"/image-0"));console.log("pictureRef: ",e)})).catch((function(e){console.error("problem: ",e)})).finally((function(){window.location.reload()}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();i.ZP,n.urls.map((function(e){return(0,x.jsx)(i.ZP,{item:!0,className:"center",style:{backgroundImage:"url(".concat(e,")"),backgroundSize:"100% 100%",width:"100px",height:"100px"},onClick:function(){return function(e){re((function(n){var t;return n[e]=null===(t=!n[e])||void 0===t||t,n})),console.log(ie)}(e)},children:ie[e]},e)})),d.Z,h.Z,w.H3h;return(0,x.jsx)(u.Z,{open:t,children:(0,x.jsx)(d.Z,{className:"edit-modal",children:(0,x.jsxs)(h.Z,{xs:7,className:"modal-background center",children:[(0,x.jsx)(f,{deletePost:k,item:n,openDeleteModal:_,setOpenDeleteModal:ee}),(0,x.jsxs)(d.Z,{className:"edit-input",children:[(0,x.jsx)(h.Z,{xs:6,sm:9,className:"left",children:(0,x.jsx)("h2",{children:"Edit"})}),(0,x.jsx)(h.Z,{xs:6,sm:3,children:(0,x.jsx)(m.Z,{variant:"danger",onClick:function(e){e.preventDefault(),ee(!0)},children:"Delete"})})]}),(0,x.jsx)(d.Z,{className:"edit-input",children:(0,x.jsx)(j.Z,{fullWidth:!0,size:"small",value:V,label:"Title",className:"input-width",color:"",onChange:function(e){return z(e.target.value)}})}),(0,x.jsx)(d.Z,{className:"edit-input",children:(0,x.jsx)(j.Z,{fullWidth:!0,size:"small",value:K,label:"Price",className:"input-width",color:"",onChange:function(e){return Q(e.target.value)}})}),(0,x.jsx)(d.Z,{className:"edit-input",children:(0,x.jsxs)(p.Z,{fullWidth:!0,children:[(0,x.jsx)(v.Z,{size:"small",id:"brand-label",children:"Brand"}),(0,x.jsxs)(b.Z,{labelId:"brand-label",id:"brand-select",size:"small",value:B,label:"Brand",onChange:function(e){return T(e.target.value)},children:[(0,x.jsx)(g.Z,{value:"default",children:"default"}),de(o.YS)]})]})}),(0,x.jsx)(d.Z,{className:"edit-input",children:(0,x.jsxs)(p.Z,{fullWidth:!0,children:[(0,x.jsx)(v.Z,{size:"small",id:"business-label",children:"Business"}),(0,x.jsxs)(b.Z,{labelId:"business-label",id:"business-select",size:"small",value:E,label:"Type",onChange:function(e){return F(e.target.value)},children:[(0,x.jsx)(g.Z,{value:"default",children:"select"}),de(o.V5)]})]})}),(0,x.jsx)(d.Z,{className:"edit-input",children:(0,x.jsxs)(p.Z,{fullWidth:!0,children:[(0,x.jsx)(v.Z,{size:"small",id:"condition-label",children:"Condition"}),(0,x.jsxs)(b.Z,{labelId:"condition-label",id:"condition-select",size:"small",value:J,label:"Condition",onChange:function(e){return A(e.target.value)},children:[(0,x.jsx)(g.Z,{value:"default",children:"default"}),de([1,2,3,4,5,6,7,8,9,10])]})]})}),(0,x.jsx)(d.Z,{className:"edit-input",children:(0,x.jsx)(Z.Z,{fullwidth:"true",minRows:3,value:M,placeholder:"Description",label:"description",onChange:function(e){return W(e.target.value)}})}),(0,x.jsxs)(d.Z,{className:"edit-input",children:[(0,x.jsx)(h.Z,{xs:6,children:(0,x.jsx)(m.Z,{onClick:function(){return a(!1)},children:"Cancel"})}),(0,x.jsx)(h.Z,{xs:6,children:(0,x.jsx)(m.Z,{onClick:function(){he(),a(!1)},children:"Submit"})})]})]})})})};var y=function(e){var n=e.item,t=e.viewCount,r=e.accountView,c=e.deletePost,o=(0,l.useState)(!1),u=(0,s.Z)(o,2),d=u[0],h=u[1],m="id="+(null===n||void 0===n?void 0:n.id),f=isNaN(12/t);return(0,x.jsxs)(l.Fragment,{children:[(0,x.jsx)(k,{item:n,openEditModal:d,setOpenEditModal:h,deletePost:c}),(0,x.jsx)(i.ZP,{item:!0,className:"post-container",style:{backgroundImage:"url(".concat(null===n||void 0===n?void 0:n.urls[0],")")},id:null===n||void 0===n?void 0:n.id,xs:f?4:12/t,children:(0,x.jsx)(a.rU,{className:"link",to:!r&&{pathname:"/singlePost",search:m},onClick:r&&function(e){e.preventDefault(),h(!0)},children:(null===n||void 0===n?void 0:n.numberOfImages)>1&&(0,x.jsx)("svg",{style:{marginLeft:"auto",marginRight:"1vw",width:"5vw",height:"5vw",color:"white"},viewBox:"0 0 24 24",children:(0,x.jsx)("path",{fill:"currentColor",d:"M21 16V6H7V16H21M21 4C21.53 4 22.04 4.21 22.41 4.59C22.79 4.96 23 5.47 23 6V16C23 16.53 22.79 17.04 22.41 17.41C22.04 17.79 21.53 18 21 18H7C5.89 18 5 17.1 5 16V6C5 4.89 5.89 4 7 4H21M3 20H18V22H3C2.47 22 1.96 21.79 1.59 21.41C1.21 21.04 1 20.53 1 20V9H3V20Z"})})})})]})}},4929:function(e,n,t){t.r(n),t.d(n,{default:function(){return x}});var s=t(885),l=t(2791),a=t(7022),i=t(9743),r=t(2677),c=t(4894),o=t(906),u=t(9135),d=t(6151),h=t(4530),m=t(184);var x=function(){var e=(0,l.useState)(""),n=(0,s.Z)(e,2),t=n[0],x=n[1],f=(0,l.useState)(""),Z=(0,s.Z)(f,2),j=Z[0],p=Z[1],g=(0,l.useState)(""),v=(0,s.Z)(g,2),b=v[0],N=v[1],C=(0,l.useState)(""),w=(0,s.Z)(C,2),S=w[0],k=w[1],y=(0,l.useState)(""),P=(0,s.Z)(y,2),V=P[0],z=P[1],H=(0,l.useState)(""),I=(0,s.Z)(H,2),M=I[0],W=I[1],D=(0,l.useState)(""),O=(0,s.Z)(D,2),E=O[0],F=O[1],R=(0,l.useState)(""),U=(0,s.Z)(R,2),B=U[0],T=U[1],L=(0,l.useState)([]),q=(0,s.Z)(L,2),J=q[0],A=q[1],G=(0,l.useState)(null),Y=(0,s.Z)(G,2),K=Y[0],Q=Y[1];return(0,l.useEffect)((function(){(0,c.bG)().then((function(e){x(e.id),p(e.firstName),N(e.lastName),k(e.displayName),z(e.phoneNumber),W(e.instagram),F(e.facebook),A(e.posts||[])}))}),[]),(0,m.jsx)(a.Z,{children:(0,m.jsxs)(i.Z,{children:[(0,m.jsxs)(r.Z,{xs:12,className:"center settings-container",children:[(0,m.jsxs)(i.Z,{children:[(0,m.jsx)(r.Z,{xs:12,md:"6",lg:4,className:"setting-item",children:(0,m.jsx)(h.Z,{fullWidth:!0,label:"first name",color:"",onChange:function(e){return p(e.target.value)},value:j})}),(0,m.jsx)(r.Z,{xs:12,md:"6",lg:4,className:"setting-item",children:(0,m.jsx)(h.Z,{fullWidth:!0,label:"last name",color:"",onChange:function(e){return N(e.target.value)},value:b})}),(0,m.jsx)(r.Z,{xs:12,md:"6",lg:4,className:"setting-item",children:(0,m.jsx)(h.Z,{fullWidth:!0,label:"display name",color:"",onChange:function(e){return k(e.target.value)},value:S})}),(0,m.jsx)(r.Z,{xs:12,md:"6",lg:4,className:"setting-item",children:(0,m.jsx)(h.Z,{fullWidth:!0,label:"phone number",color:"",onChange:function(e){return z(e.target.value)},value:V})}),(0,m.jsx)(r.Z,{xs:12,md:"6",lg:4,className:"setting-item",children:(0,m.jsx)(h.Z,{fullWidth:!0,label:"instagram",color:"",onChange:function(e){return W(e.target.value)},value:M})}),(0,m.jsx)(r.Z,{xs:12,md:"6",lg:4,className:"setting-item",children:(0,m.jsx)(h.Z,{fullWidth:!0,label:"facebook",color:"",onChange:function(e){return F(e.target.value)},value:E})}),(0,m.jsx)(r.Z,{xs:12,className:"setting-item",children:(0,m.jsxs)("label",{className:"profile-label",htmlFor:"inputTag",children:[(0,m.jsx)("span",{style:{color:"black"},children:"Profile Picture"}),(0,m.jsx)("input",{id:"inputTag",className:"profile-input",type:"file",onChange:function(e){T(e.target.files[0]),Q(URL.createObjectURL(e.target.files[0]))},accept:"/image/*"}),(0,m.jsx)("br",{}),K?(0,m.jsx)("img",{src:K,className:"upload-image",alt:"preview image"}):(0,m.jsx)(u.H3h,{size:40})]})})]}),(0,m.jsx)(i.Z,{children:(0,m.jsx)(r.Z,{xs:12,className:"submit-button",children:(0,m.jsx)(d.Z,{variant:"contained",onClick:function(){return(0,c.ps)({id:t,firstName:j,lastName:b,displayName:S,phoneNumber:V,instagram:M,facebook:E,posts:J},B)},children:"Submit"})})})]}),(0,m.jsx)("hr",{}),(0,m.jsx)(o.default,{user:t,accountView:!0})]})})}}}]);
//# sourceMappingURL=929.b0d2a7fd.chunk.js.map