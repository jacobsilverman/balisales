"use strict";(self.webpackChunkbalisales=self.webpackChunkbalisales||[]).push([[354],{1089:function(e,t,l){l.d(t,{Z:function(){return k}});var n=l(2791),s=l(3504),i=l(7342),a=l(4165),r=l(5861),d=l(885),c=l(1083),u=l(6519),o=l(9743),h=l(2677),m=l(6157),x=l(184),f=function(e){var t=e.deletePost,l=e.item,n=e.openDeleteModal,s=e.setOpenDeleteModal;return(0,x.jsx)(u.Z,{open:n,id:"delete-modal",children:(0,x.jsx)(o.Z,{className:"modal-dialog delete-modal",children:(0,x.jsxs)(h.Z,{xs:5,sm:5,md:2,className:"modal-content modal-background center",children:[(0,x.jsx)(o.Z,{className:"modal-header",children:(0,x.jsx)(h.Z,{className:"modal-title",children:"Do you want to delete this post?"})}),(0,x.jsxs)(o.Z,{children:[(0,x.jsx)(h.Z,{xs:6,children:(0,x.jsx)(m.Z,{onClick:function(){return s(!1)},children:"no"})}),(0,x.jsx)(h.Z,{xs:6,children:(0,x.jsx)(m.Z,{onClick:function(){t(l),s(!1)},children:"yes"})})]})]})})})},Z=l(9891),p=l(1747),j=l(4530),v=l(6362),b=l(4925),g=l(3347),C=l(9062),w=l(2892),N=l(9135),S=l(4453),y=function(e){var t=e.item,l=e.openEditModal,s=e.setOpenEditModal,y=e.deletePost,k=(0,n.useState)(t.title),M=(0,d.Z)(k,2),I=M[0],P=M[1],V=(0,n.useState)(t.description),D=(0,d.Z)(V,2),W=D[0],H=D[1],z=(0,n.useState)(t.type),B=(0,d.Z)(z,2),O=B[0],E=B[1],F=(0,n.useState)(t.brand),R=(0,d.Z)(F,2),T=R[0],U=R[1],q=(0,n.useState)(t.condition),L=(0,d.Z)(q,2),Y=L[0],J=L[1],A=(0,n.useState)(t.price),G=(0,d.Z)(A,2),K=G[0],Q=G[1],X=(0,n.useState)(!1),$=(0,d.Z)(X,2),_=$[0],ee=$[1],te=(0,n.useState)(t.numberOfImages),le=(0,d.Z)(te,2),ne=le[0],se=(le[1],(0,n.useState)({})),ie=(0,d.Z)(se,2),ae=ie[0],re=ie[1],de=(0,n.useState)(""),ce=(0,d.Z)(de,2),ue=(ce[0],ce[1]);var oe=function(e){return e.map((function(e,t){return(0,x.jsx)(Z.Z,{value:e,children:e},t)}))},he=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){var l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=(0,C.JU)(w.db,"posts",t.id),e.next=3,(0,C.pl)(l,{title:I,type:O,brand:T,condition:Y,price:K,description:W,timeStamp:Date.now(),numberOfImages:ne,author:{name:t.author.name,id:t.author.id}}).then((function(){var e=(0,S.iH)((0,S.cF)(),"PostImages/".concat(t.id,"/image-0"));console.log("pictureRef: ",e)})).catch((function(e){console.error("problem: ",e)})).finally((function(){window.location.reload()}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();i.ZP,t.urls.map((function(e){return(0,x.jsx)(i.ZP,{item:!0,className:"center",style:{backgroundImage:"url(".concat(e,")"),backgroundSize:"100% 100%",width:"100px",height:"100px"},onClick:function(){return function(e){re((function(t){var l;return t[e]=null===(l=!t[e])||void 0===l||l,t})),console.log(ae)}(e)},children:ae[e]},e)})),o.Z,h.Z,N.H3h;return(0,x.jsx)(u.Z,{open:l,children:(0,x.jsx)(o.Z,{className:"edit-modal",children:(0,x.jsxs)(h.Z,{xs:7,className:"modal-background center",children:[(0,x.jsx)(f,{deletePost:y,item:t,openDeleteModal:_,setOpenDeleteModal:ee}),(0,x.jsxs)(o.Z,{className:"edit-input",children:[(0,x.jsx)(h.Z,{xs:6,sm:9,className:"left",children:(0,x.jsx)("h2",{children:"Edit"})}),(0,x.jsx)(h.Z,{xs:6,sm:3,children:(0,x.jsx)(m.Z,{variant:"danger",onClick:function(e){e.preventDefault(),ee(!0)},children:"Delete"})})]}),(0,x.jsx)(o.Z,{className:"edit-input",children:(0,x.jsx)(j.Z,{fullWidth:!0,size:"small",value:I,label:"Title",className:"input-width",onChange:function(e){return P(e.target.value)}})}),(0,x.jsx)(o.Z,{className:"edit-input",children:(0,x.jsx)(j.Z,{fullWidth:!0,size:"small",value:K,label:"Price",className:"input-width",onChange:function(e){return Q(e.target.value)}})}),(0,x.jsx)(o.Z,{className:"edit-input",children:(0,x.jsxs)(v.Z,{fullWidth:!0,children:[(0,x.jsx)(b.Z,{size:"small",id:"brand-edit-label",children:"Brand"}),(0,x.jsx)(g.Z,{labelId:"brand-edit-label",id:"brand-edit-select",size:"small",value:T,label:"Brand",onChange:function(e){return U(e.target.value)},children:oe(c.YS)})]})}),(0,x.jsx)(o.Z,{className:"edit-input",children:(0,x.jsxs)(v.Z,{fullWidth:!0,children:[(0,x.jsx)(b.Z,{size:"small",id:"business-edit-label",children:"Business"}),(0,x.jsx)(g.Z,{labelId:"business-edit-label",id:"business-edit-select",size:"small",value:O,label:"Business",onChange:function(e){return E(e.target.value)},children:oe(c.V5)})]})}),(0,x.jsx)(o.Z,{className:"edit-input",children:(0,x.jsxs)(v.Z,{fullWidth:!0,children:[(0,x.jsx)(b.Z,{size:"small",id:"condition-edit-label",children:"Condition"}),(0,x.jsx)(g.Z,{labelId:"condition-edit-label",id:"condition-edit-select",size:"small",value:Y,label:"Condition",onChange:function(e){return J(e.target.value)},children:oe([1,2,3,4,5,6,7,8,9,10])})]})}),(0,x.jsx)(o.Z,{className:"edit-input",children:(0,x.jsx)(p.Z,{fullwidth:"true",minRows:3,value:W,placeholder:"Description",label:"description",onChange:function(e){return H(e.target.value)}})}),(0,x.jsxs)(o.Z,{className:"edit-input",children:[(0,x.jsx)(h.Z,{xs:6,children:(0,x.jsx)(m.Z,{onClick:function(){return s(!1)},children:"Cancel"})}),(0,x.jsx)(h.Z,{xs:6,children:(0,x.jsx)(m.Z,{onClick:function(){he(),s(!1)},children:"Submit"})})]})]})})})};var k=function(e){var t=e.displayUrl,l=e.item,a=e.queryParam,r=e.viewCount,d=e.viewCountHeight,c=e.accountView,u=e.showViewCount,o=void 0===u?3:u,h=e.deletePost,m=e.openEditModal,f=e.setOpenEditModal;return(0,x.jsxs)(n.Fragment,{children:[c&&(0,x.jsx)(y,{item:l,openEditModal:m,setOpenEditModal:f,deletePost:h}),(0,x.jsx)(i.ZP,{item:!0,className:"post-container",style:{backgroundImage:t,height:d+"vw"},id:"post"+(null===l||void 0===l?void 0:l.id),xs:o?4:12/r,children:(0,x.jsx)(s.rU,{className:"link",to:!c&&{pathname:"/singlePost",search:a},onClick:c&&function(e){e.preventDefault(),f(!0)},children:(null===l||void 0===l?void 0:l.numberOfImages)>1&&(0,x.jsx)("svg",{style:{marginLeft:"auto",marginRight:"1vw",width:"5vw",height:"5vw",color:"white"},viewBox:"0 0 24 24",children:(0,x.jsx)("path",{fill:"currentColor",d:"M21 16V6H7V16H21M21 4C21.53 4 22.04 4.21 22.41 4.59C22.79 4.96 23 5.47 23 6V16C23 16.53 22.79 17.04 22.41 17.41C22.04 17.79 21.53 18 21 18H7C5.89 18 5 17.1 5 16V6C5 4.89 5.89 4 7 4H21M3 20H18V22H3C2.47 22 1.96 21.79 1.59 21.41C1.21 21.04 1 20.53 1 20V9H3V20Z"})})})})]})}},5354:function(e,t,l){l.r(t),l.d(t,{default:function(){return C}});var n=l(2982),s=l(885),i=l(2791),a=l(6788),r=l(6157),d=l(2677),c=l(7022),u=l(9743),o=l(7342),h=l(1083),m=l(6151),x=l(4530),f=l(6362),Z=l(9891),p=l(4925),j=l(3347),v=l(184);var b=function(e){var t=e.getOptions,l=e.brand,n=e.setBrand,s=e.max,a=e.setMax,r=e.min,c=e.setMin,o=e.type,b=e.setType,g=e.setDisplayFilter,C=e.resetFilter,w=e.sort,N=e.setSort,S=e.viewCount,y=e.setViewCount,k=e.blade,M=e.setBlade,I=e.status,P=e.setStatus;return(0,v.jsxs)(i.Fragment,{children:[(0,v.jsxs)(u.Z,{className:"filter-item",children:[(0,v.jsx)(d.Z,{xs:3,className:"filter-exit-button",children:(0,v.jsx)(m.Z,{variant:"contained",color:"error",size:"small",onClick:function(){g(!1)},children:"x"})}),(0,v.jsx)(d.Z,{xs:9,children:(0,v.jsx)(m.Z,{className:"reset-button",variant:"contained",onClick:function(){C()},children:"reset"})})]}),(0,v.jsx)(u.Z,{children:(0,v.jsx)(d.Z,{xs:12,className:"filter-content",children:(0,v.jsxs)(u.Z,{className:"filter-item",children:[(0,v.jsx)(d.Z,{xs:6,sm:6,md:3,className:"dropdown",children:(0,v.jsx)(x.Z,{fullWidth:!0,label:"Min",color:"",type:"number",onChange:function(e){c(e.target.value)},value:r})}),(0,v.jsx)(d.Z,{xs:6,sm:6,md:3,children:(0,v.jsx)(x.Z,{fullWidth:!0,label:"Max",color:"",type:"number",onChange:function(e){a(e.target.value)},value:s})}),(0,v.jsx)(d.Z,{xs:6,sm:6,md:3,className:"dropdown",children:(0,v.jsxs)(f.Z,{fullWidth:!0,children:[(0,v.jsx)(p.Z,{id:"demo-simple-select-label",children:"Cost"}),(0,v.jsxs)(j.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:w,label:"Cost",onChange:function(e){return N(e.target.value)},children:[(0,v.jsx)(Z.Z,{value:"default",children:"default"}),t(h.Ld,w)]})]})}),(0,v.jsx)(d.Z,{xs:6,sm:6,md:3,children:(0,v.jsxs)(f.Z,{fullWidth:!0,children:[(0,v.jsx)(p.Z,{id:"demo-simple-select-label",children:"status"}),(0,v.jsxs)(j.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:I,label:"status",onChange:function(e){return P(e.target.value)},children:[(0,v.jsx)(Z.Z,{value:"default",children:"default"}),t(h.Do,I)]})]})}),(0,v.jsx)(d.Z,{xs:6,sm:6,md:3,className:"dropdown",children:(0,v.jsxs)(f.Z,{fullWidth:!0,children:[(0,v.jsx)(p.Z,{id:"demo-simple-select-label",children:"brand"}),(0,v.jsxs)(j.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:l,label:"status",onChange:function(e){return n(e.target.value)},children:[(0,v.jsx)(Z.Z,{value:"default",children:"default"}),t(h.YS,l)]})]})}),(0,v.jsx)(d.Z,{xs:6,sm:6,md:3,children:(0,v.jsxs)(f.Z,{fullWidth:!0,children:[(0,v.jsx)(p.Z,{id:"demo-simple-select-label",children:"type"}),(0,v.jsxs)(j.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:o,label:"type",onChange:function(e){return b(e.target.value)},children:[(0,v.jsx)(Z.Z,{value:"default",children:"default"}),t(h.V5,o)]})]})}),(0,v.jsx)(d.Z,{xs:6,sm:6,md:3,children:(0,v.jsxs)(f.Z,{fullWidth:!0,children:[(0,v.jsx)(p.Z,{id:"demo-simple-select-label",children:"Show"}),(0,v.jsxs)(j.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:S,label:"Show",onChange:function(e){return y(e.target.value)},children:[(0,v.jsx)(Z.Z,{value:"default",children:"default"}),t(h.dZ,S)]})]})}),(0,v.jsx)(d.Z,{xs:6,sm:6,md:3,children:(0,v.jsxs)(f.Z,{fullWidth:!0,children:[(0,v.jsx)(p.Z,{id:"demo-simple-select-label",children:"Blade"}),(0,v.jsxs)(j.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:k,label:"blade",onChange:function(e){return M(e.target.value)},children:[(0,v.jsx)(Z.Z,{value:"default",children:"default"}),t(h.SP,k)]})]})})]})})})]})},g=l(1089);var C=function(e){var t=e.posts,l=(0,i.useState)(0),m=(0,s.Z)(l,2),x=m[0],f=m[1],p=(0,i.useState)(1e4),j=(0,s.Z)(p,2),C=j[0],w=j[1],N=(0,i.useState)("default"),S=(0,s.Z)(N,2),y=S[0],k=S[1],M=(0,i.useState)("default"),I=(0,s.Z)(M,2),P=I[0],V=I[1],D=(0,i.useState)(!1),W=(0,s.Z)(D,2),H=W[0],z=W[1],B=(0,i.useState)("default"),O=(0,s.Z)(B,2),E=O[0],F=O[1],R=(0,i.useState)("default"),T=(0,s.Z)(R,2),U=T[0],q=T[1],L=(0,i.useState)("default"),Y=(0,s.Z)(L,2),J=Y[0],A=Y[1],G=(0,i.useState)("default"),K=(0,s.Z)(G,2),Q=K[0],X=K[1],$=120/U,_=isNaN(12/U),ee="filter-container",te=(0,v.jsx)("span",{className:"filter-button-container",children:(0,v.jsx)(r.Z,{className:"filter-button "+ee,onClick:function(){z(!0)},children:(0,v.jsx)("b",{children:"FILTER"})})}),le=(0,v.jsx)(d.Z,{xs:12,className:ee,children:(0,v.jsx)(b,{getOptions:function(e){return e.map((function(e,t){return(0,v.jsx)(Z.Z,{value:e,children:e},e+"-"+t)}))},brand:y,setBrand:function(e){return k(e)},type:P,setMax:function(e){return w(e)},min:x,setMin:function(e){return f(e)},max:C,setType:function(e){return V(e)},setDisplayFilter:function(e){return z(e)},resetFilter:function(e){return f(0),w(1e4),k("default"),V("default"),F("default"),void q("default")},sort:E,setSort:function(e){return F(e)},viewCount:U,setViewCount:function(e){return q(e)},blade:J,setBlade:function(e){return A(e)},status:Q,setStatus:function(e){return X(e)}})});return(0,v.jsx)(c.Z,{className:"body-container",children:(0,v.jsxs)(u.Z,{children:[H&&le||!h.tq&&te,(0,v.jsx)(d.Z,{xs:12,className:"remove-padding",children:function(){if(0===t.length)return(0,v.jsx)(a.Z,{});for(var e,l,s=(e=t,"default"===E?e:(0,n.Z)(e).sort((function(e,t){return"max"===E?e.price<=t.price?1:-1:e.price>=t.price?1:-1}))),i=[],r=[],d=0;d<s.length;d++)(null===(l=s[d])||void 0===l?void 0:l.price)>=x&&(null===l||void 0===l?void 0:l.price)<=C&&(l.brand===y||"default"===y)&&(l.type===P||"default"===P)&&(l.blade===J||"default"===J)&&(l.status===Q||"default"===Q)&&r.push(s[d]),(d+1)%3!==0&&d!==s.length-1||(i.push(r),r=[]);return(0,v.jsx)(o.ZP,{container:!0,className:"grid-container-posts",children:i.map((function(e){return e.map((function(e){var t="url(".concat(null===e||void 0===e?void 0:e.urls[0],")"),l="id="+(null===e||void 0===e?void 0:e.id);return(0,v.jsx)(g.Z,{displayUrl:t,item:e,queryParam:l,viewCount:U,viewCountHeight:$,showViewCount:_},e.id)}))}))})}()})]})})}}}]);
//# sourceMappingURL=354.ac47c3ac.chunk.js.map