{"version":3,"file":"static/js/979.1cf643a0.chunk.js","mappings":"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","sources":["Components/CreatePost/CreatePost.js","Components/CreatePost/index.js","../node_modules/@restart/ui/esm/Button.js","../node_modules/react-bootstrap/esm/Button.js"],"sourcesContent":["import { useMemo, useState } from 'react';\r\nimport { Button, Col, Container, Row } from 'react-bootstrap';\r\n\r\nimport { brands, blades, environment, types } from '../../Data/Constants';\r\n\r\nimport { addUserPost } from '../../Data/Services/userInfo';\r\n\r\nimport { addDoc, collection } from 'firebase/firestore';\r\n\r\nimport { auth, db, storage } from \"../../firebase-config.js\";\r\nimport { ref, uploadBytesResumable } from \"firebase/storage\";\r\n\r\nimport { FaImage } from \"react-icons/fa\";\r\n\r\nimport TextField from '@mui/material/TextField';\r\nimport FormControl from '@mui/material/FormControl';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport InputLabel from '@mui/material/InputLabel';\r\nimport Select from '@mui/material/Select';\r\nimport TextareaAutosize from '@mui/material/TextareaAutosize';\r\n\r\nimport './CreatePost.scss';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nfunction CreatePost() {\r\n    const isAuth = useState(localStorage.getItem(\"isAuth\"));\r\n\r\n    const [title, setTitle] = useState(\"\");\r\n    const [description, setDescription] = useState(\"\");\r\n    const [type, setType] = useState(\"\");\r\n    const [brand, setBrand] = useState(\"\");\r\n    const [condition, setCondition] = useState(\"\");\r\n    const [price, setPrice] = useState(\"\");\r\n    const [blade, setBlade] = useState(\"\");\r\n\r\n    const [disableSubmit, setDisableSubmit] = useState(false);\r\n\r\n    // State to store uploaded file\r\n    const [files, setFiles] = useState([]);\r\n    const [showFiles, setShowFiles] = useState([]);\r\n\r\n    // progress\r\n    const [percent, setPercent] = useState(0);\r\n\r\n    const [numberOfUploads, setNumberOfUploads] = useState(0);\r\n    const [validation, setValidation] = useState({\r\n        title: false,\r\n        price: false,\r\n        brand: false,\r\n        sale: false,\r\n        condition: false,\r\n        blade: false,\r\n        picture: false\r\n    });\r\n\r\n    const { t } = useTranslation();\r\n\r\n    let isValidated = useMemo(() => {\r\n        const valid = !Object.values(validation).some((item) => item === false);\r\n\r\n        if (valid === true) {\r\n            setDisableSubmit(false);\r\n        }\r\n\r\n        return valid;\r\n    }, [validation]);\r\n    \r\n    const resetPostCreation = () => {\r\n        setTitle(\"\");\r\n        setDescription(\"\");\r\n        setType(\"\");\r\n        setBrand(\"\");\r\n        setCondition(\"\");\r\n        setPrice(\"\");\r\n        setBlade(\"\");\r\n        setNumberOfUploads(0);\r\n        setFiles([]);\r\n        setShowFiles([]);\r\n        setDisableSubmit(false);\r\n    }\r\n\r\n    // Handle file upload event and update state\r\n    function handlePictureChange(event) {\r\n        if (event.target.files && event.target.files[0]) {\r\n            setShowFiles(cur => [...cur, URL.createObjectURL(event.target.files[0])]);\r\n            setFiles(cur => [...cur, event.target.files[0]]);\r\n            setNumberOfUploads(numberOfUploads => numberOfUploads+1);\r\n            setValidation(cur => {return {...cur, picture: true}});\r\n        }\r\n    }\r\n\r\n    function removePicture(index) {\r\n\r\n        let newShowFiles = [];\r\n        let newFileNames = [];\r\n        for (let i=0; i<showFiles.length;i++) {\r\n            if (index!==i){\r\n                newShowFiles.push(showFiles[i]);\r\n                newFileNames.push(files[i]);\r\n            }\r\n        }\r\n        setShowFiles(newShowFiles);\r\n        setFiles(newFileNames);\r\n        setNumberOfUploads(numOfUploads => numOfUploads-1);\r\n        if (numberOfUploads-1 === 0){\r\n            setValidation(cur => {return {...cur, picture: false}});\r\n        }\r\n    }\r\n\r\n    function pictureInputs() {\r\n        let allInputs = [];\r\n\r\n        for (let i = 0; i < files.length; i++) {\r\n            allInputs.push(\r\n                <Col xs=\"12\" className=\"setting-item center\" key={files[i]?.name}>\r\n                    <label className='profile-label' htmlFor={\"inputPicture-\"+files[i]?.name} onClick={() => removePicture(i)}>\r\n                        <span>{files[i]?.name}</span>\r\n                        <br />\r\n                        <img id={\"inputPicture-\"+files[i]?.name} src={showFiles[i]} className=\"upload-image\" alt=\"preview image\" />\r\n                    </label>\r\n                </Col>\r\n            );\r\n        }\r\n\r\n        return allInputs;\r\n    }\r\n\r\n    const createPost = async () => {\r\n        setDisableSubmit(true);\r\n        if (!isValidated) {\r\n            return\r\n        }\r\n        if (!files[0]) {\r\n            alert(\"Please upload an image first!\");\r\n            return\r\n        }\r\n        \r\n        const postsCollectionRef = collection(db, process.env.REACT_APP_ENVIRONMENT+\"-posts\");\r\n        await addDoc(postsCollectionRef, {\r\n            status: \"Available\",\r\n            title,\r\n            type,\r\n            blade,\r\n            brand, \r\n            condition,\r\n            price,\r\n            description,\r\n            numberOfImages: files.length,\r\n            timeStamp: Date.now(),\r\n            author: {name: auth?.currentUser?.displayName || 'anonymous', id: auth?.currentUser?.uid || 'none' }\r\n        }).then((result) => {\r\n            const promises = [];\r\n            \r\n            files.map((file, index) => {\r\n                const storageRef = ref(storage, `/${environment()}-postImages/${result.id}/image-${index}`);\r\n                const uploadTask = uploadBytesResumable(storageRef, file);\r\n                promises.push(uploadTask);\r\n\r\n                uploadTask.on(\r\n                    \"state_changed\",\r\n                    (snapshot) => {\r\n                        const percent = Math.round(\r\n                            (snapshot.bytesTransferred / snapshot.totalBytes) * 100\r\n                        );\r\n                        setPercent(percent);\r\n                    },\r\n                    (err) => console.log(err),\r\n                    () => {\r\n                        console.log(storageRef);\r\n                    }\r\n                );\r\n            });\r\n\r\n            Promise.all(promises).then(() => {\r\n                console.log(\"all uploaded\");\r\n                resetPostCreation();\r\n            }).catch((err) => {\r\n                console.error(err)\r\n            })\r\n            return result;\r\n        \r\n        }).then((result) => {\r\n            addUserPost(result.id);\r\n        }).catch(() =>{\r\n            console.log(\"error with creating post\");\r\n        });\r\n    }\r\n\r\n    const getOptions = (options, key) => {\r\n        return options.map((name) => {\r\n            return <MenuItem key={key+\"-\"+name} value={name}>{t(name)}</MenuItem>;\r\n        });\r\n    };\r\n\r\n    const handleTitleChange = (event) => {\r\n        let newValue = event.target.value;\r\n        if (newValue.length > 25 || newValue.match(/['\\-\"><;:\\\\+{}!@#$%=^*_|[\\]]/)) {\r\n            return\r\n        }\r\n\r\n        setValidation(cur => {return {...cur, title: newValue !== \"\"}});\r\n        setTitle(newValue);\r\n    }\r\n\r\n    const handlePriceChange = (event) => {\r\n        let newValue = event.target.value;\r\n        if (newValue.match(/[-]/)) {\r\n            return\r\n        }\r\n\r\n        setValidation(cur => {return {...cur, price: newValue !== \"\"}});\r\n        setPrice(newValue);\r\n    }\r\n\r\n    const handleBrandChange = (event) => {\r\n        let newValue = event.target.value;\r\n        if (newValue !== \"\") {\r\n            setValidation(cur => {return {...cur, brand: true}});\r\n        }\r\n        \r\n        setBrand(newValue);\r\n    }\r\n\r\n    const handleSaleChange = (event) => {\r\n        let newValue = event.target.value;\r\n        if (newValue !== \"\") {\r\n            setValidation(cur => {return {...cur, sale: true}});\r\n        }\r\n\r\n        setType(newValue);\r\n    }\r\n\r\n    const handleConditionChange = (event) => {\r\n        let newValue = event.target.value;\r\n        if (newValue !== \"\") {\r\n            setValidation(cur => {return {...cur, condition: true}});\r\n        }\r\n        \r\n        setCondition(newValue);\r\n    }\r\n\r\n    const handleBladeChange = (event) => {\r\n        let newValue = event.target.value;\r\n        if (newValue !== \"\") {\r\n            setValidation(cur => {return {...cur, blade: true}});\r\n        }\r\n        \r\n        setBlade(newValue);\r\n    }\r\n\r\n    const handleDescriptionChange = (event) => {\r\n        let newValue = event.target.value;\r\n        if (newValue.length > 425 || newValue.match(/[\\-><;:\\\\+{}@%=^*_|[\\]]/)) {\r\n            return;\r\n        }\r\n        setDescription(newValue);\r\n    }\r\n\r\n\r\n    const mainPage = (\r\n        <>\r\n            <Container className=\"create-header-container\">\r\n                <Row>\r\n                    <Col className=\"create-header\">\r\n                        <h2>{t(\"Create Post\")}</h2>\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n            <Container className=\"create-container\">\r\n                <Row>\r\n                    <Col xs={12} md={6} className=\"create-input\">\r\n                        <TextField fullWidth label={t(\"Title\")} color=\"\" error={validation.title === false && disableSubmit} type=\"search\" value={title} onChange={handleTitleChange} />\r\n                    </Col>\r\n                    <Col xs={12} md={6} className=\"create-input\">\r\n                        <TextField fullWidth label={t(\"Price\")} color=\"\" error={validation.price === false && disableSubmit} type=\"number\" value={price} onChange={handlePriceChange} />\r\n                    </Col>\r\n                    <Col xs={12} md={6} className=\"create-input\">\r\n                        <FormControl fullWidth error={validation.brand === false && disableSubmit}>\r\n                            <InputLabel id=\"brand-label\">{t(\"Brand\")}</InputLabel>\r\n                            <Select\r\n                                labelId=\"brand-label\"\r\n                                id=\"brand-select\"\r\n                                label=\"Brand\"\r\n                                defaultValue=\"\"\r\n                                value={brand}\r\n                                onChange={handleBrandChange}>\r\n                                {getOptions(brands, \"brand\")}\r\n                            </Select>\r\n                        </FormControl>\r\n                    </Col>\r\n                    <Col xs={12} md={6} className=\"create-input\">\r\n                        <FormControl fullWidth error={validation.sale === false && disableSubmit}>\r\n                            <InputLabel id=\"sale-type-label\">{t(\"Sale Type\")}</InputLabel>\r\n                            <Select\r\n                                labelId=\"sale-type-label\"\r\n                                id=\"sale-type-select\"\r\n                                label={t(\"Sale Type\")}\r\n                                defaultValue=\"\"\r\n                                value={type}\r\n                                onChange={handleSaleChange}>\r\n                                {getOptions(types, \"type\")}\r\n                            </Select>\r\n                        </FormControl>\r\n                    </Col>\r\n                    <Col xs={12} md={6} className=\"create-input\">\r\n                        <FormControl fullWidth error={validation.condition === false && disableSubmit}>\r\n                            <InputLabel id=\"condition-label\">{t(\"Condition\")}</InputLabel>\r\n                            <Select\r\n                                labelId=\"condition-label\"\r\n                                id=\"condition-select\"\r\n                                label={t(\"Condition\")}\r\n                                defaultValue=\"\"\r\n                                value={condition}\r\n                                onChange={handleConditionChange}>\r\n                                {getOptions([1,2,3,4,5,6,7,8,9,10], \"condition\")}\r\n                            </Select>\r\n                        </FormControl>\r\n                    </Col>\r\n                    <Col xs={12} md={6} className=\"create-input\">\r\n                        <FormControl fullWidth error={validation.blade === false && disableSubmit}>\r\n                            <InputLabel id=\"blade-label\">{t(\"Blade\")}</InputLabel>\r\n                            <Select\r\n                                labelId=\"blade-label\"\r\n                                id=\"blade-select\"\r\n                                label={t(\"Blade\")}\r\n                                defaultValue=\"\"\r\n                                value={blade}\r\n                                onChange={handleBladeChange}>\r\n                                {getOptions(blades, \"blade\")}\r\n                            </Select>\r\n                        </FormControl>\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col xs={12}>\r\n                        <TextareaAutosize style={{width: \"100%\"}} minRows={5} value={description} placeholder={t(\"Description\")} label={t(\"Description\")} onChange={handleDescriptionChange} />\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col xs=\"12\" className=\"setting-item center\">\r\n                        <label className='profile-label' htmlFor={\"inputPicture-default\"}>\r\n                            <b>{t(\"Upload Image\")}</b>\r\n                            <input id={\"inputPicture-default\"} className=\"profile-input\" type=\"file\" onChange={e => handlePictureChange(e)} accept=\"/image/*\" />\r\n                            <br />\r\n                            <FaImage size={70} className=\"\" />\r\n                        </label>\r\n                    </Col>\r\n                    {pictureInputs()}\r\n                </Row>\r\n                <Row>\r\n                    <Col xs={12} className=\"center\">\r\n                        <Button disabled={disableSubmit} className=\"create-submit-button\" onClick={createPost}>{t(\"Submit\")}</Button>\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        </>\r\n    );\r\n    \r\n    const disabledPage = (\r\n        <>\r\n            <Container className=\"create-header-container\">\r\n                <Row>\r\n                    <Col className=\"create-header\">\r\n                        <h2>{t(\"Information Missing\")}</h2>\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n            <Container className=\"create-container\">\r\n                <Row>\r\n                    <Col xs={12}>\r\n                        <h3>\r\n                            { !isAuth[0] ?\r\n                             \"Please login before trying to create a post.\":\r\n                             \"Please go to the <a href='/settings'>Settings Page</a> to make sure you have a first name, last name and display name saved before trying to create a post.\"}\r\n                        </h3>\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        </>\r\n    );\r\n\r\n\r\n    return  isAuth[0] ? mainPage : disabledPage;\r\n}\r\n\r\nexport default CreatePost;","import CreatePost from './CreatePost';\r\n\r\nexport default CreatePost;","const _excluded = [\"as\", \"disabled\"];\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from 'react';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport function isTrivialHref(href) {\n  return !href || href.trim() === '#';\n}\nexport function useButtonProps({\n  tagName,\n  disabled,\n  href,\n  target,\n  rel,\n  role,\n  onClick,\n  tabIndex = 0,\n  type\n}) {\n  if (!tagName) {\n    if (href != null || target != null || rel != null) {\n      tagName = 'a';\n    } else {\n      tagName = 'button';\n    }\n  }\n\n  const meta = {\n    tagName\n  };\n\n  if (tagName === 'button') {\n    return [{\n      type: type || 'button',\n      disabled\n    }, meta];\n  }\n\n  const handleClick = event => {\n    if (disabled || tagName === 'a' && isTrivialHref(href)) {\n      event.preventDefault();\n    }\n\n    if (disabled) {\n      event.stopPropagation();\n      return;\n    }\n\n    onClick == null ? void 0 : onClick(event);\n  };\n\n  const handleKeyDown = event => {\n    if (event.key === ' ') {\n      event.preventDefault();\n      handleClick(event);\n    }\n  };\n\n  if (tagName === 'a') {\n    // Ensure there's a href so Enter can trigger anchor button.\n    href || (href = '#');\n\n    if (disabled) {\n      href = undefined;\n    }\n  }\n\n  return [{\n    role: role != null ? role : 'button',\n    // explicitly undefined so that it overrides the props disabled in a spread\n    // e.g. <Tag {...props} {...hookProps} />\n    disabled: undefined,\n    tabIndex: disabled ? undefined : tabIndex,\n    href,\n    target: tagName === 'a' ? target : undefined,\n    'aria-disabled': !disabled ? undefined : disabled,\n    rel: tagName === 'a' ? rel : undefined,\n    onClick: handleClick,\n    onKeyDown: handleKeyDown\n  }, meta];\n}\nconst Button = /*#__PURE__*/React.forwardRef((_ref, ref) => {\n  let {\n    as: asProp,\n    disabled\n  } = _ref,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  const [buttonProps, {\n    tagName: Component\n  }] = useButtonProps(Object.assign({\n    tagName: asProp,\n    disabled\n  }, props));\n  return /*#__PURE__*/_jsx(Component, Object.assign({}, props, buttonProps, {\n    ref: ref\n  }));\n});\nButton.displayName = 'Button';\nexport default Button;","import classNames from 'classnames';\nimport * as React from 'react';\nimport { useButtonProps } from '@restart/ui/Button';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst defaultProps = {\n  variant: 'primary',\n  active: false,\n  disabled: false\n};\nconst Button = /*#__PURE__*/React.forwardRef(({\n  as,\n  bsPrefix,\n  variant,\n  size,\n  active,\n  className,\n  ...props\n}, ref) => {\n  const prefix = useBootstrapPrefix(bsPrefix, 'btn');\n  const [buttonProps, {\n    tagName\n  }] = useButtonProps({\n    tagName: as,\n    ...props\n  });\n  const Component = tagName;\n  return /*#__PURE__*/_jsx(Component, { ...buttonProps,\n    ...props,\n    ref: ref,\n    className: classNames(className, prefix, active && 'active', variant && `${prefix}-${variant}`, size && `${prefix}-${size}`, props.href && props.disabled && 'disabled')\n  });\n});\nButton.displayName = 'Button';\nButton.defaultProps = defaultProps;\nexport default Button;"],"names":["isAuth","useState","localStorage","getItem","title","setTitle","description","setDescription","type","setType","brand","setBrand","condition","setCondition","price","setPrice","blade","setBlade","disableSubmit","setDisableSubmit","files","setFiles","showFiles","setShowFiles","setPercent","numberOfUploads","setNumberOfUploads","sale","picture","validation","setValidation","t","useTranslation","isValidated","useMemo","valid","Object","values","some","item","createPost","alert","postsCollectionRef","collection","db","process","addDoc","status","numberOfImages","length","timeStamp","Date","now","author","name","auth","displayName","id","uid","then","result","promises","map","file","index","storageRef","ref","storage","environment","uploadTask","uploadBytesResumable","push","on","snapshot","percent","Math","round","bytesTransferred","totalBytes","err","console","log","Promise","all","catch","error","addUserPost","getOptions","options","key","MenuItem","value","mainPage","Container","className","Row","Col","xs","md","TextField","fullWidth","label","color","onChange","event","newValue","target","match","cur","FormControl","InputLabel","Select","labelId","defaultValue","brands","types","blades","TextareaAutosize","style","width","minRows","placeholder","htmlFor","e","URL","createObjectURL","accept","size","allInputs","i","onClick","newShowFiles","newFileNames","numOfUploads","removePicture","src","alt","pictureInputs","Button","disabled","disabledPage","_excluded","useButtonProps","tagName","href","rel","role","tabIndex","meta","handleClick","trim","isTrivialHref","preventDefault","stopPropagation","undefined","onKeyDown","React","_ref","asProp","as","props","source","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","assign","buttonProps","Component","_jsx","bsPrefix","variant","active","prefix","useBootstrapPrefix","classNames","defaultProps"],"sourceRoot":""}