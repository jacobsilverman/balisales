"use strict";(self.webpackChunkbalisales=self.webpackChunkbalisales||[]).push([[899],{1031:function(e,n,i){var o=i(1413),l=i(9439),s=i(2791),t=i(9470),r=i(169),d=i(6278),a=i(9230),c=i(184),u=s.lazy((function(){return Promise.all([i.e(441),i.e(242)]).then(i.bind(i,6502))})),v=s.lazy((function(){return Promise.resolve().then(i.bind(i,3968))}));n.Z=function(e){var n=e.user,i=e.settingsPage,h=(0,s.useState)([]),x=(0,l.Z)(h,2),f=x[0],m=x[1],p=(0,s.useState)(!1),Z=(0,l.Z)(p,2),j=Z[0],g=Z[1],w=(0,s.useState)({show:!1,item:null,index:0}),N=(0,l.Z)(w,2),y=N[0],b=N[1],S=(0,s.useState)({}),k=(0,l.Z)(S,2),P=k[0],C=k[1],R=(0,s.useState)(!1),O=(0,l.Z)(R,2),z=O[0],I=O[1],E=(0,a.$G)().t;(0,s.useEffect)((function(){(0,d.ww)(n).then((function(e){e.sort((function(e,n){return n.timeStamp-e.timeStamp}));var i=e.filter((function(e){return e.author.id===n}));m(i),b((function(e){return(0,o.Z)((0,o.Z)({},e),{},{posts:i})}))})).catch((function(){console.error("cant get user posts")})).finally((function(){I(!0)}))}),[]);var M=function(){b((function(e){var n,i=null!==(n=e.posts[e.index-1])&&void 0!==n?n:e.posts[e.posts.length-1],l="undefined"!==typeof e.posts[e.index-1]?e.index-1:e.posts.length-1;return(0,o.Z)((0,o.Z)({},e),{},{item:i,index:l,posts:f})}))},U=function(){b((function(e){var n,i=null!==(n=e.posts[e.index+1])&&void 0!==n?n:e.posts[0],l="undefined"!==typeof e.posts[e.index+1]?e.index+1:0;return(0,o.Z)((0,o.Z)({},e),{},{index:l,item:i,posts:f})}))};return 0===(null===f||void 0===f?void 0:f.length)?z?(0,c.jsx)("h4",{className:"center",children:"No Posts Available"}):(0,c.jsx)(t.Z,{}):(0,c.jsxs)("div",{className:"grid-container-posts",children:[y.show&&(0,c.jsx)(v,{t:E,item:y.item,handlePrevPost:M,handleNextPost:U,openSelectModal:y.show,setOpenSelectModal:b}),j&&(0,c.jsx)(u,{item:P,setPosts:m,filterPosts:f,setFilterPosts:m,openEditModal:j,setOpenEditModal:g}),null===f||void 0===f?void 0:f.map((function(e){var n="url(".concat(null===e||void 0===e?void 0:e.urls[0],")");return(0,c.jsx)(r.Z,{displayUrl:n,item:e,settingsPage:i,openSelectModal:y,setOpenSelectModal:b,openEditModal:j,setOpenEditModal:g,selectedPost:P,setSelectedPost:C},e.id)}))]})}},6651:function(e,n,i){i.d(n,{Z:function(){return c}});var o=i(3433),l=i(9439),s=i(2791),t=i(7993),r=i(3883);r.Z.setApiKey("AIzaSyDwxyCrcshK6kl2ICi5UCtepIqNgPz36T4"),r.Z.setLanguage("en"),r.Z.setRegion("es"),r.Z.setLocationType("ROOFTOP"),r.Z.enableDebug();var d=i(4909),a=i(184),c=function(e){var n=e.addresses,i=e.width,c=e.height,u=e.zoom,v=e.center,h=void 0===v?{lat:38.1355772,lng:-96.135829}:v,x=(0,s.useState)(!0),f=(0,l.Z)(x,2),m=f[0],p=f[1],Z=(0,s.useState)([]),j=(0,l.Z)(Z,2),g=j[0],w=j[1],N=(0,s.useState)({show:!1,position:{}}),y=(0,l.Z)(N,2),b=y[0],S=y[1],k=1===n.length,P={height:c,width:i},C=function(e,n){return{x:-e/2,y:-n/2}};return(0,s.useEffect)((function(){if(m)p(!1);else{w([]);var e=function(e){var i,l,s;if(null!==(i=n[e])&&void 0!==i&&i.address&&null!==(l=n[e])&&void 0!==l&&l.city){var t,d,a,c,u,v,h="".concat(null===(t=n[e])||void 0===t?void 0:t.address," ").concat(null===(d=n[e])||void 0===d?void 0:d.unit," ").concat(null===(a=n[e])||void 0===a?void 0:a.city," ").concat(null===(c=n[e])||void 0===c?void 0:c.state," ").concat(null===(u=n[e])||void 0===u?void 0:u.country," ").concat(null===(v=n[e])||void 0===v?void 0:v.zipcode);(s=h,r.Z.fromAddress(s).then((function(e){var n=e.results[0].geometry.location;return{lat:n.lat,lng:n.lng}}),(function(e){console.error(e)}))).then((function(i){var l,s={address:i,userInfo:null===(l=n[e])||void 0===l?void 0:l.userInfo};w((function(e){return[s].concat((0,o.Z)(e))}))}))}};for(var i in n)e(i)}}),[n]),(0,s.useMemo)((function(){var e;if(!m)return(0,a.jsx)(t.b6,{icon:"here",mapContainerStyle:P,zoom:u,center:k?null===(e=g[0])||void 0===e?void 0:e.address:h,children:g.map((function(e){var n,i,o,l;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.Jx,{position:null===e||void 0===e?void 0:e.address,icon:{url:(null===e||void 0===e||null===(n=e.userInfo)||void 0===n?void 0:n.icon)||d,scaledSize:new google.maps.Size(25,25)},onClick:function(){var n;return window.location.href="/profile?id="+(null===e||void 0===e||null===(n=e.userInfo)||void 0===n?void 0:n.id)},onMouseOver:function(){S({show:!0,position:e})},onMouseOut:function(){S({show:!1,position:{}})}}),(null===b||void 0===b?void 0:b.show)&&(0,a.jsx)(t.xT,{position:null===b||void 0===b||null===(i=b.position)||void 0===i?void 0:i.address,mapPaneName:t.xT.OVERLAY_MOUSE_TARGET,getPixelPositionOffset:C,children:(0,a.jsx)("div",{className:"info-window-container static",children:(0,a.jsx)("h5",{children:(null===b||void 0===b||null===(o=b.position)||void 0===o||null===(l=o.userInfo)||void 0===l?void 0:l.displayName)||"Default Profile"})})})]})}))});p(!1)}),[g,b])}},1899:function(e,n,i){i.r(n),i.d(n,{default:function(){return P}});var o=i(1413),l=i(9439),s=i(2791),t=i(6278),r=i(4909),d=i(9135),a=i(1031),c=i(6651),u=i(3723),v=i(7953),h=i(7022),x=i(9743),f=i(2677),m=i(6151),p=i(3433),Z=i(1660),j=i(184),g=function(e){var n=e.name,i=e.id,o=e.message,l=e.date,s=e.rating;return(0,j.jsxs)("article",{className:"review",children:[(0,j.jsx)("a",{className:"review-author",href:"/profile?id="+i,children:n}),(0,j.jsx)(Z.Z,{name:"read-only",value:s,readOnly:!0}),(0,j.jsx)("div",{className:"review-date",children:new Date(l).toDateString()}),(0,j.jsx)("div",{className:"review-message",children:o})]})},w=function(e){var n,i,o=e.userData;return(null===o||void 0===o||null===(n=o.reviews)||void 0===n?void 0:n.length)>0&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(x.Z,{className:"reviews-title-container",children:(0,j.jsx)(f.Z,{xs:12,children:(0,j.jsx)("h2",{children:"Reviews"})})}),(0,j.jsx)(x.Z,{className:"reviews-container",children:(0,j.jsx)(f.Z,{xs:12,children:(i=[].concat((0,p.Z)((null===o||void 0===o?void 0:o.reviews)||[]),(0,p.Z)((null===o||void 0===o?void 0:o.reports)||[])),(0,j.jsx)("div",{className:"reviews-list",children:i.map((function(e){return(0,j.jsx)(g,{name:e.author.displayName,id:e.author.id,message:e.message,date:e.date,rating:e.rating},e.id)}))}))})})]})},N=i(4942),y=i(1747),b=i(6519),S=function(e){var n=e.t,i=e.id,l=e.userData,s=e.reference,r=e.setReference;return(0,j.jsx)(b.Z,{open:null===s||void 0===s?void 0:s.open,children:(0,j.jsx)(x.Z,{className:"modal-dialog offset-top",children:(0,j.jsx)(f.Z,{className:"modal-content review-modal-background ",children:(0,j.jsxs)(x.Z,{children:[(0,j.jsx)(f.Z,{xs:9,children:(0,j.jsxs)("h2",{children:["Write a ","Report"===(null===s||void 0===s?void 0:s.type)?"Report":"Review"]})}),(0,j.jsx)(f.Z,{xs:3,style:{textAlign:"right"},children:(0,j.jsx)(m.Z,{size:"small",color:"error",variant:"contained",id:"paypal-exit-button",onClick:function(){return r({open:!1})},children:(0,j.jsx)("i",{className:"material-icons",children:"close"})})}),(0,j.jsx)(f.Z,{xs:12,className:"center",children:(0,j.jsx)(y.Z,{style:{width:"100%"},minRows:3,maxLength:100,placeholder:n("Description"),label:n("Description"),onChange:function(e){r((function(n){return(0,o.Z)((0,o.Z)({},n),{},{message:e.target.value})}))}})}),(0,j.jsx)(f.Z,{xs:12,className:"center",children:"Reference"===(null===s||void 0===s?void 0:s.type)&&(0,j.jsx)(Z.Z,{size:"large",onChange:function(e,n){r((function(e){return(0,o.Z)((0,o.Z)({},e),{},{rating:n})}))}})}),(0,j.jsx)(m.Z,{onClick:function(){var e,n=(0,o.Z)({},l);n[e="Report"===(null===s||void 0===s?void 0:s.type)?"reports":"reviews"]||(n[e]=[]),n[e].push((0,o.Z)((0,o.Z)({},s),{},{date:Date.now()})),(0,t.Nq)(i,(0,N.Z)({},e,n[e])).then((function(e){console.log(e)})).catch((function(e){alert("something went wrong adding your review - ",e)})).finally((function(){r((function(e){return(0,o.Z)((0,o.Z)({},e),{},{open:!1})})),window.location.reload()}))},children:"Submit"})]})})})})},k=i(9230),P=function(){var e,n,i,p,Z=new URLSearchParams(window.location.search),g=Object.fromEntries(Z.entries()),N=localStorage.getItem("uid"),y=(0,s.useState)(N),b=(0,l.Z)(y,2),P=b[0],C=b[1],R=(0,s.useState)(!0),O=(0,l.Z)(R,2),z=O[0],I=O[1],E=(0,s.useState)(!1),M=(0,l.Z)(E,2),U=M[0],D=M[1],A=(0,s.useState)(),T=(0,l.Z)(A,2),F=T[0],L=T[1],Q=(0,s.useState)(null),_=(0,l.Z)(Q,2),G=_[0],q=_[1],K=(0,s.useState)({rating:0,open:!1,author:{id:N,displayName:localStorage.getItem("displayName")}}),$=(0,l.Z)(K,2),J=$[0],V=$[1],W=(0,k.$G)().t;(0,s.useEffect)((function(){null!==g&&void 0!==g&&g.id&&((0,t.bG)(null===g||void 0===g?void 0:g.id).then((function(e){var n=(0,o.Z)({},e);null!==n&&void 0!==n&&n.referenceUrl||(n.referenceUrl=""),L(n)})),(0,t.bG)(N).then((function(e){C(e)})),(0,t.ZU)(null===g||void 0===g?void 0:g.id).then((function(e){q(e)})).catch((function(e){q(r),console.error("no picture: ",e)})))}),[]);var Y=function(e){V((function(n){return(0,o.Z)((0,o.Z)({},n),{},{type:e,open:!0})}))},B="material-icons ".concat(U?"green":"");if(F)return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(h.Z,{className:"profile-header-container",children:(0,j.jsx)(x.Z,{children:(0,j.jsx)(f.Z,{className:"profile-header",children:(0,j.jsx)("h2",{children:null===F||void 0===F?void 0:F.displayName})})})}),(0,j.jsxs)(h.Z,{className:"user-profile-container",children:[(0,j.jsxs)(x.Z,{children:[(0,j.jsxs)(f.Z,{xs:12,md:null!==F&&void 0!==F&&F.referenceUrl?6:12,className:"user-account-profile-col",children:[(0,j.jsxs)(x.Z,{style:{width:"100%"},children:[(0,j.jsxs)(f.Z,{xs:12,md:null!==F&&void 0!==F&&F.referenceUrl||null===F||void 0===F||!F.address||Object.values(null===F||void 0===F?void 0:F.address).every((function(e){return null===e||""===e}))?12:6,children:[(0,j.jsx)(x.Z,{children:(0,j.jsx)(f.Z,{className:"profile-image center",children:(0,j.jsx)("div",{className:"user-account-profile center",style:{backgroundImage:"url(".concat(G,")")}})})}),(0,j.jsx)(x.Z,{children:N&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(f.Z,{style:{textAlign:"right",paddingTop:"10px"},xs:6,md:6,xxl:6,children:(0,j.jsx)(m.Z,{disabled:(null===g||void 0===g?void 0:g.id)===P||(null===P||void 0===P?void 0:P.ip)===(null===F||void 0===F?void 0:F.ip),color:"error",onClick:function(){return Y("Report")},children:W("Report")})}),(0,j.jsx)(f.Z,{style:{textAlign:"left",paddingTop:"10px"},xs:6,md:6,xxl:6,children:(0,j.jsx)(m.Z,{disabled:(null===g||void 0===g?void 0:g.id)===P||(null===P||void 0===P?void 0:P.ip)===(null===F||void 0===F?void 0:F.ip),onClick:function(){return Y("Reference")},children:W("Review")})})]})})]}),(0,j.jsx)(f.Z,{xs:12,md:null!==F&&void 0!==F&&F.referenceUrl||null===F||void 0===F||!F.address||Object.values(null===F||void 0===F?void 0:F.address).every((function(e){return null===e||""===e}))?12:6,children:(0,j.jsx)(x.Z,{children:(0,j.jsx)(f.Z,{xs:12,className:"map-col-container",children:null!==F&&void 0!==F&&F.address?(0,j.jsxs)(x.Z,{children:[(0,j.jsx)(f.Z,{xs:12,className:"map-container",children:(0,j.jsx)(c.Z,{addresses:[(0,o.Z)((0,o.Z)({},null===F||void 0===F?void 0:F.address),{},{userInfo:{displayName:null===F||void 0===F?void 0:F.displayName,id:null===g||void 0===g?void 0:g.id,icon:G}})],height:"200px",width:"75%",zoom:5,border:"5px solid black",userInfo:{displayName:null===F||void 0===F?void 0:F.displayName,id:null===F||void 0===F?void 0:F.id,icon:G}})}),(null===F||void 0===F?void 0:F.address)&&(0,j.jsxs)(f.Z,{xs:12,className:"loc-pin",children:[(0,j.jsx)(d.nkz,{}),"\xa0\xa0\xa0",null===F||void 0===F||null===(e=F.address)||void 0===e?void 0:e.city,", ",null===F||void 0===F||null===(n=F.address)||void 0===n?void 0:n.state]})]}):(0,j.jsx)("div",{className:"center",children:W("No address is saved")})})})})]}),null!==F&&void 0!==F&&F.instagram||null!==F&&void 0!==F&&F.youtube||null!==F&&void 0!==F&&F.twitter||null!==F&&void 0!==F&&F.phoneNumber||null!==F&&void 0!==F&&F.discord||null!==F&&void 0!==F&&F.facebook?(0,j.jsxs)(x.Z,{className:"center social-media-container",children:[(null===F||void 0===F?void 0:F.instagram)&&(0,j.jsx)(f.Z,{xs:2,className:"item",children:(0,j.jsx)(u.QZ,{target:"blank",url:"https://www.instagram.com/"+(null===F||void 0===F?void 0:F.instagram)})}),(null===F||void 0===F?void 0:F.youtube)&&(0,j.jsx)(f.Z,{xs:2,className:"item",children:(0,j.jsx)(u.QZ,{target:"blank",url:"https://www.youtube.com/channel/"+(null===F||void 0===F?void 0:F.youtube)})}),(null===F||void 0===F?void 0:F.twitter)&&(0,j.jsx)(f.Z,{xs:2,className:"item",children:(0,j.jsx)(u.QZ,{target:"blank",url:"https://www.twitter.com/"+(null===F||void 0===F?void 0:F.twitter)})}),(null===F||void 0===F?void 0:F.phoneNumber)&&(0,j.jsx)(f.Z,{xs:2,className:"item",children:(0,j.jsx)(u.QZ,{target:"blank",url:"tel:"+(null===F||void 0===F?void 0:F.phoneNumber),network:"telegram"})}),(null===F||void 0===F?void 0:F.discord)&&(0,j.jsx)(f.Z,{xs:2,className:"item",children:(0,j.jsx)(u.QZ,{target:"blank",url:"https://www.discord.com/users/"+(null===F||void 0===F?void 0:F.discord)})}),(null===F||void 0===F?void 0:F.facebook)&&(0,j.jsx)(f.Z,{xs:2,className:"item",children:(0,j.jsx)(u.QZ,{target:"blank",url:"https://www.facebook.com/"+(null===F||void 0===F?void 0:F.facebook)})})]}):(0,j.jsx)(x.Z,{children:(0,j.jsx)(f.Z,{className:"center social-media-container",children:W("No Contact Method is Saved")})})]}),(null===F||void 0===F?void 0:F.referenceUrl)&&(null===F||void 0===F||null===(i=F.referenceUrl)||void 0===i?void 0:i.toLowerCase().indexOf("instagram"))&&(0,j.jsx)(f.Z,{xs:12,md:6,className:"contact-outer-container",children:(0,j.jsx)(x.Z,{children:(0,j.jsx)(f.Z,{style:{display:"flex",justifyContent:"center"},children:(0,j.jsx)(v.InstagramEmbed,{url:null===F||void 0===F?void 0:F.referenceUrl,width:"330px"})})})})]}),(null===J||void 0===J?void 0:J.open)&&(0,j.jsx)(S,{t:W,id:null===g||void 0===g?void 0:g.id,userData:F,reference:J,setReference:V}),(0,j.jsxs)(x.Z,{children:[(0,j.jsx)(f.Z,{xs:6,className:"info-dropdown",children:(0,j.jsxs)("h2",{onClick:function(){return I((function(e){return!e}))},children:[W("Posts"),"\xa0\xa0",(0,j.jsx)("i",{size:"small",className:"material-icons",children:z?"visibility_off":"visibility_on"})]})}),(null===g||void 0===g?void 0:g.id)===N&&(0,j.jsx)(f.Z,{xs:6,className:"info-dropdown right",children:(0,j.jsxs)("h4",{onClick:function(){return D((function(e){return!e}))},children:[W("Edit"),"\xa0\xa0",(0,j.jsx)("i",{size:"small",className:B,children:U?"toggle_on":"toggle_off"})]})}),z&&(0,j.jsx)(a.Z,{user:null===g||void 0===g?void 0:g.id,settingsPage:U})]}),(null===F||void 0===F||null===(p=F.reviews)||void 0===p?void 0:p.length)>0&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("hr",{style:{margin:"0"}}),(0,j.jsx)(w,{userData:F})]})]})]})}}}]);
//# sourceMappingURL=899.bfeb5cb6.chunk.js.map