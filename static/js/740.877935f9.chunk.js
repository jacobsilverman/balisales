"use strict";(self.webpackChunkbalisales=self.webpackChunkbalisales||[]).push([[740],{1031:function(e,t,n){var i=n(1413),s=n(9439),r=n(2791),a=n(9470),l=n(169),o=n(6278),c=n(9230),u=n(184),d=r.lazy((function(){return Promise.all([n.e(10),n.e(502)]).then(n.bind(n,6502))})),h=r.lazy((function(){return Promise.resolve().then(n.bind(n,3968))}));t.Z=function(e){var t=e.user,n=e.settingsPage,m=(0,r.useState)([]),f=(0,s.Z)(m,2),x=f[0],Z=f[1],v=(0,r.useState)(!1),g=(0,s.Z)(v,2),p=g[0],j=g[1],N=(0,r.useState)({show:!1,item:null,index:0}),y=(0,s.Z)(N,2),b=y[0],S=y[1],w=(0,r.useState)({}),C=(0,s.Z)(w,2),P=C[0],z=C[1],_=(0,r.useState)(!1),k=(0,s.Z)(_,2),I=k[0],O=k[1],W=(0,c.$G)().t;(0,r.useEffect)((function(){(0,o.ww)(t).then((function(e){e.sort((function(e,t){return t.timeStamp-e.timeStamp}));var n=e.filter((function(e){return e.author.id===t}));Z(n),S((function(e){return(0,i.Z)((0,i.Z)({},e),{},{posts:n})}))})).catch((function(){console.error("cant get user posts")})).finally((function(){O(!0)}))}),[]);var $=function(){S((function(e){var t,n=null!==(t=e.posts[e.index-1])&&void 0!==t?t:e.posts[e.posts.length-1],s="undefined"!==typeof e.posts[e.index-1]?e.index-1:e.posts.length-1;return(0,i.Z)((0,i.Z)({},e),{},{item:n,index:s,posts:x})}))},M=function(){S((function(e){var t,n=null!==(t=e.posts[e.index+1])&&void 0!==t?t:e.posts[0],s="undefined"!==typeof e.posts[e.index+1]?e.index+1:0;return(0,i.Z)((0,i.Z)({},e),{},{index:s,item:n,posts:x})}))};return 0===(null===x||void 0===x?void 0:x.length)?I?(0,u.jsx)("h4",{className:"center",children:"No Posts Available"}):(0,u.jsx)(a.Z,{}):(0,u.jsxs)("div",{className:"grid-container-posts",children:[b.show&&(0,u.jsx)(h,{t:W,item:b.item,handlePrevPost:$,handleNextPost:M,openSelectModal:b.show,setOpenSelectModal:S}),p&&(0,u.jsx)(d,{item:P,setPosts:Z,filterPosts:x,setFilterPosts:Z,openEditModal:p,setOpenEditModal:j}),null===x||void 0===x?void 0:x.map((function(e){var t="url(".concat(null===e||void 0===e?void 0:e.urls[0],")");return(0,u.jsx)(l.Z,{displayUrl:t,item:e,settingsPage:n,openSelectModal:b,setOpenSelectModal:S,openEditModal:p,setOpenEditModal:j,selectedPost:P,setSelectedPost:z},e.id)}))]})}},6651:function(e,t,n){n.d(t,{Z:function(){return u}});var i=n(3433),s=n(9439),r=n(2791),a=n(7993),l=n(3883);l.Z.setApiKey("AIzaSyDwxyCrcshK6kl2ICi5UCtepIqNgPz36T4"),l.Z.setLanguage("en"),l.Z.setRegion("es"),l.Z.setLocationType("ROOFTOP"),l.Z.enableDebug();var o=n(4909),c=n(184),u=function(e){var t=e.addresses,n=e.width,u=e.height,d=e.zoom,h=e.center,m=void 0===h?{lat:38.1355772,lng:-96.135829}:h,f=(0,r.useState)(!0),x=(0,s.Z)(f,2),Z=x[0],v=x[1],g=(0,r.useState)([]),p=(0,s.Z)(g,2),j=p[0],N=p[1],y=(0,r.useState)({show:!1,position:{}}),b=(0,s.Z)(y,2),S=b[0],w=b[1],C=1===t.length,P={height:u,width:n},z=function(e,t){return{x:-e/2,y:-t/2}};return(0,r.useEffect)((function(){if(Z)v(!1);else{N([]);var e=function(e){var n,s,r;if(null!==(n=t[e])&&void 0!==n&&n.address&&null!==(s=t[e])&&void 0!==s&&s.city){var a,o,c,u,d,h,m="".concat(null===(a=t[e])||void 0===a?void 0:a.address," ").concat(null===(o=t[e])||void 0===o?void 0:o.unit," ").concat(null===(c=t[e])||void 0===c?void 0:c.city," ").concat(null===(u=t[e])||void 0===u?void 0:u.state," ").concat(null===(d=t[e])||void 0===d?void 0:d.country," ").concat(null===(h=t[e])||void 0===h?void 0:h.zipcode);(r=m,l.Z.fromAddress(r).then((function(e){var t=e.results[0].geometry.location;return{lat:t.lat,lng:t.lng}}),(function(e){console.error(e)}))).then((function(n){var s,r={address:n,userInfo:null===(s=t[e])||void 0===s?void 0:s.userInfo};N((function(e){return[r].concat((0,i.Z)(e))}))}))}};for(var n in t)e(n)}}),[t]),(0,r.useMemo)((function(){var e;if(!Z)return(0,c.jsx)(a.b6,{icon:"here",mapContainerStyle:P,zoom:d,center:C?null===(e=j[0])||void 0===e?void 0:e.address:m,children:j.map((function(e){var t,n,i,s;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(a.Jx,{position:null===e||void 0===e?void 0:e.address,icon:{url:(null===e||void 0===e||null===(t=e.userInfo)||void 0===t?void 0:t.icon)||o,scaledSize:new google.maps.Size(25,25)},onClick:function(){var t;return window.location.href="/profile?id="+(null===e||void 0===e||null===(t=e.userInfo)||void 0===t?void 0:t.id)},onMouseOver:function(){w({show:!0,position:e})},onMouseOut:function(){w({show:!1,position:{}})}}),(null===S||void 0===S?void 0:S.show)&&(0,c.jsx)(a.xT,{position:null===S||void 0===S||null===(n=S.position)||void 0===n?void 0:n.address,mapPaneName:a.xT.OVERLAY_MOUSE_TARGET,getPixelPositionOffset:z,children:(0,c.jsx)("div",{className:"info-window-container static",children:(0,c.jsx)("h5",{children:(null===S||void 0===S||null===(i=S.position)||void 0===i||null===(s=i.userInfo)||void 0===s?void 0:s.displayName)||"Default Profile"})})})]})}))});v(!1)}),[j,S])}},740:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var i=n(9439),s=n(2791),r=n(7022),a=n(9743),l=n(2677),o=n(1413),c=n(6278),u=n(9135),d=n(6651),h=n(6151),m=n(7391),f=n(9230),x=n(184),Z=function(e){var t=e.id,n=(0,s.useState)(""),r=(0,i.Z)(n,2),Z=r[0],v=r[1],g=(0,s.useState)(""),p=(0,i.Z)(g,2),j=p[0],N=p[1],y=(0,s.useState)(""),b=(0,i.Z)(y,2),S=b[0],w=b[1],C=(0,s.useState)(""),P=(0,i.Z)(C,2),z=P[0],_=P[1],k=(0,s.useState)(""),I=(0,i.Z)(k,2),O=I[0],W=I[1],$=(0,s.useState)(""),M=(0,i.Z)($,2),U=M[0],E=M[1],F=(0,s.useState)(""),T=(0,i.Z)(F,2),L=T[0],A=T[1],R=(0,s.useState)(""),G=(0,i.Z)(R,2),D=G[0],K=G[1],q=(0,s.useState)(""),B=(0,i.Z)(q,2),H=B[0],J=B[1],V=(0,s.useState)(""),Y=(0,i.Z)(V,2),Q=Y[0],X=Y[1],ee=(0,s.useState)(""),te=(0,i.Z)(ee,2),ne=te[0],ie=te[1],se=(0,s.useState)({address:"",unit:"",city:"",state:"",country:"",zipcode:""}),re=(0,i.Z)(se,2),ae=re[0],le=re[1],oe=(0,s.useState)(""),ce=(0,i.Z)(oe,2),ue=ce[0],de=ce[1],he=(0,s.useState)([]),me=(0,i.Z)(he,2),fe=me[0],xe=me[1],Ze=(0,s.useState)(!0),ve=(0,i.Z)(Ze,2),ge=ve[0],pe=ve[1],je=(0,s.useState)(!0),Ne=(0,i.Z)(je,2),ye=Ne[0],be=Ne[1],Se=(0,s.useState)(!0),we=(0,i.Z)(Se,2),Ce=we[0],Pe=we[1],ze=(0,s.useState)(localStorage.getItem("profile-picture-"+localStorage.getItem("uid"))),_e=(0,i.Z)(ze,2),ke=_e[0],Ie=_e[1],Oe=(0,s.useState)({firstName:!0,lastName:!0,displayName:!0,phoneNumber:!0,instagram:!0,facebook:!0,discord:!0,youtube:!0,twitter:!0,referenceUrl:!0,address:!0,unit:!0,city:!0,country:!0,state:!0,zipcode:!0}),We=(0,i.Z)(Oe,2),$e=We[0],Me=We[1],Ue=(0,f.$G)().t,Ee=(0,s.useMemo)((function(){return!Object.values($e).some((function(e){return!1===e}))}),[$e]);(0,s.useEffect)((function(){(0,c.bG)(t).then((function(e){v(e.firstName),N(e.lastName),w(e.displayName),_(e.phoneNumber),W(e.instagram),E(e.facebook),A(e.discord),K(e.youtube),J(e.twitter),X(e.referenceUrl),le(e.address),ie(e.ip),xe(e.posts||[]),Me({firstName:e.firstName.length>0,lastName:e.lastName.length>0,displayName:e.displayName.length>0,phoneNumber:0===e.phoneNumber.length||10===e.phoneNumber.length,instagram:!0,facebook:!0,discord:!0,youtube:!0,twitter:!0,referenceUrl:!0,address:!0,unit:!0,city:!0,country:!0,state:!0,zipcode:!0})}))}),[]);var Fe;return(0,x.jsxs)(l.Z,{xs:12,className:"center settings-container",children:[(0,x.jsxs)(a.Z,{children:[(0,x.jsx)(l.Z,{xs:12,className:"info-dropdown setting-padding",children:(0,x.jsxs)("h2",{onClick:function(){return pe((function(e){return!e}))},children:[Ue("Basic Info"),"\xa0\xa0",(0,x.jsx)("i",{size:"small",className:"material-icons",children:ge?"visibility_off":"visibility_on"})]})}),(0,x.jsx)("hr",{}),ge&&(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(l.Z,{className:"setting-padding",children:(0,x.jsxs)(a.Z,{children:[(0,x.jsx)(l.Z,{xs:12,sm:4,className:"setting-item",children:(0,x.jsx)(m.Z,{fullWidth:!0,label:Ue("First Name"),error:!$e.firstName,type:"search",onChange:function(e){var t=e.target.value;t.match(/['\-"><;:\\+{}!@#$%=^*_|[\]]/)||t.length>=12||(Me((function(e){return(0,o.Z)((0,o.Z)({},e),{},{firstName:""!==t})})),v(t))},value:Z})}),(0,x.jsx)(l.Z,{xs:12,sm:4,className:"setting-item",children:(0,x.jsx)(m.Z,{fullWidth:!0,label:Ue("Last Name"),error:!$e.lastName,type:"search",onChange:function(e){var t=e.target.value;t.match(/['\-"><;:\\+{}!@#$%=^*_|[\]]/)||t.length>=15||(Me((function(e){return(0,o.Z)((0,o.Z)({},e),{},{lastName:""!==t})})),N(t))},value:j})}),(0,x.jsx)(l.Z,{xs:12,sm:4,className:"setting-item",children:(0,x.jsx)(m.Z,{fullWidth:!0,label:Ue("Display Name"),error:!$e.displayName,onChange:function(e){var t=e.target.value;t.match(/['\-"><;:\\+{}!@#$%=^*_|[\]]/)||t.length>=15||(Me((function(e){return(0,o.Z)((0,o.Z)({},e),{},{displayName:""!==t})})),w(t))},value:S})})]})})}),(0,x.jsx)(l.Z,{xs:12,className:"info-dropdown setting-padding",children:(0,x.jsxs)("h2",{onClick:function(){return be((function(e){return!e}))},children:[Ue("Social Info"),"\xa0\xa0",(0,x.jsx)("i",{size:"small",className:"material-icons",children:ye?"visibility_off":"visibility_on"})]})}),(0,x.jsx)("hr",{}),ye&&(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(l.Z,{className:"setting-padding",children:(0,x.jsxs)(a.Z,{children:[(0,x.jsx)(l.Z,{xs:12,md:7,lg:8,children:(0,x.jsxs)(a.Z,{children:[(0,x.jsx)(l.Z,{xs:12,md:6,className:"setting-item",children:(0,x.jsx)(m.Z,{fullWidth:!0,label:Ue("Phone Number"),error:!$e.phoneNumber,onChange:function(e){var t=e.target.value.replace("(","").replace(")","").replace(" ","").replace("-","");Me((function(e){return(0,o.Z)((0,o.Z)({},e),{},{phoneNumber:0===t.length||10===t.length})})),_(t)},value:(Fe=z,isNaN(Fe)?"":(Fe.length>3?"(":"")+Fe.substring(0,3)+(Fe.length>3?") ":"")+Fe.substring(3,6)+(Fe.length>6?"-":"")+Fe.substring(6,10)),inputProps:{maxLength:14}})}),(0,x.jsx)(l.Z,{xs:12,md:6,className:"setting-item",children:(0,x.jsx)(m.Z,{fullWidth:!0,label:Ue("www.instagram.com/"),color:"",type:"url",error:!$e.instagram,onChange:function(e){var t=e.target.value;t.match(/['\-"><;\\+/{}!@%=^*|[\]]/)||W(t)},value:O})}),(0,x.jsx)(l.Z,{xs:12,md:6,className:"setting-item",children:(0,x.jsx)(m.Z,{fullWidth:!0,label:Ue("www.facebook.com/"),color:"",type:"url",error:!$e.facebook,onChange:function(e){var t=e.target.value;t.match(/['\-"><;\\+/{}!@%=^*|[\]]/)||E(t)},value:U})}),(0,x.jsx)(l.Z,{xs:12,md:6,className:"setting-item",children:(0,x.jsx)(m.Z,{fullWidth:!0,label:Ue("www.twitter.com/"),color:"",type:"url",error:!$e.twitter,onChange:function(e){var t=e.target.value;t.match(/['\-"><;.\\+/{}!@#$%=^*_|[\]]/)||J(t)},value:H})}),(0,x.jsx)(l.Z,{xs:12,className:"setting-item",children:(0,x.jsx)(m.Z,{fullWidth:!0,label:Ue("Reference Url"),color:"",type:"url",error:!$e.referenceUrl,onChange:function(e){var t=e.target.value;t.match(/['\-"><;\\+{}!@#$%=^*_|[\]]/)||X(t)},value:Q})})]})}),(0,x.jsxs)(l.Z,{xs:12,md:5,lg:4,className:"profile-image-update",children:[(0,x.jsx)(a.Z,{children:(0,x.jsx)(l.Z,{xs:12,children:(0,x.jsx)("h5",{children:Ue("Change Profile Picture")})})}),(0,x.jsx)(a.Z,{children:(0,x.jsx)(l.Z,{xs:12,children:(0,x.jsxs)("label",{className:ke?"":"profile-label",htmlFor:"inputTag",children:[ke?null:(0,x.jsx)("span",{style:{color:"black"},children:Ue("Profile Picture")}),(0,x.jsx)("input",{id:"inputTag",className:"profile-input",type:"file",onChange:function(e){de(e.target.files[0]),Ie(URL.createObjectURL(e.target.files[0]))},accept:"image/*"}),ke?(0,x.jsx)("img",{src:ke,className:"upload-image",alt:"profile display"}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("br",{}),(0,x.jsx)(u.H3h,{size:40})]})]})})})]})]})})}),(0,x.jsx)(l.Z,{xs:12,className:"info-dropdown setting-padding",children:(0,x.jsxs)("h2",{onClick:function(){return Pe((function(e){return!e}))},children:[Ue("Location Info"),"\xa0\xa0",(0,x.jsx)("i",{size:"small",className:"material-icons",children:Ce?"visibility_off":"visibility_on"})]})}),(0,x.jsx)("hr",{}),Ce&&(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(l.Z,{className:"setting-padding",children:(0,x.jsxs)(a.Z,{children:[(0,x.jsxs)(l.Z,{xs:12,md:ae&&7,lg:ae&&8,children:[(0,x.jsxs)(a.Z,{children:[(0,x.jsx)(l.Z,{xs:12,md:6,className:"setting-item",children:(0,x.jsx)(m.Z,{fullWidth:!0,label:Ue("Address"),error:!$e.address,value:null===ae||void 0===ae?void 0:ae.address,onChange:function(e){var t=e.target.value;t.match(/['\-"><;.\\+/{}!@#$%=^*_|[\]]/)||(Me((function(e){return(0,o.Z)((0,o.Z)({},e),{},{address:!0})})),le((function(e){return(0,o.Z)((0,o.Z)({},e),{},{address:t})})))}})}),(0,x.jsx)(l.Z,{xs:12,md:6,className:"setting-item",children:(0,x.jsx)(m.Z,{fullWidth:!0,label:Ue("Unit"),color:"",type:"url",error:!$e.unit,value:null===ae||void 0===ae?void 0:ae.unit,onChange:function(e){var t=e.target.value;t.match(/['\-"><;.\\+/{}!@#$%=^*_|[\]]/)||(Me((function(e){return(0,o.Z)((0,o.Z)({},e),{},{unit:!0})})),le((function(e){return(0,o.Z)((0,o.Z)({},e),{},{unit:t})})))}})})]}),(0,x.jsxs)(a.Z,{children:[(0,x.jsx)(l.Z,{xs:12,md:6,className:"setting-item",children:(0,x.jsx)(m.Z,{fullWidth:!0,label:Ue("City"),color:"",type:"url",error:!$e.city,value:null===ae||void 0===ae?void 0:ae.city,onChange:function(e){var t=e.target.value;t.match(/['\-"><;.\\+/{}!@#$%=^*_|[\]]/)||(Me((function(e){return(0,o.Z)((0,o.Z)({},e),{},{city:!0})})),le((function(e){return(0,o.Z)((0,o.Z)({},e),{},{city:t})})))}})}),(0,x.jsx)(l.Z,{xs:12,md:6,className:"setting-item",children:(0,x.jsx)(m.Z,{fullWidth:!0,label:Ue("Country"),color:"",type:"url",error:!$e.country,value:null===ae||void 0===ae?void 0:ae.country,onChange:function(e){var t=e.target.value;t.match(/['\-"><;.\\+/{}!@#$%=^*_|[\]]/)||(Me((function(e){return(0,o.Z)((0,o.Z)({},e),{},{country:!0})})),le((function(e){return(0,o.Z)((0,o.Z)({},e),{},{country:t})})))}})})]}),(0,x.jsxs)(a.Z,{children:[(0,x.jsx)(l.Z,{xs:12,md:6,className:"setting-item",children:(0,x.jsx)(m.Z,{fullWidth:!0,label:Ue("State"),color:"",type:"url",error:!$e.state,value:null===ae||void 0===ae?void 0:ae.state,onChange:function(e){var t=e.target.value;t.match(/['\-"><;.\\+/{}!@#$%=^*_|[\]]/)||(Me((function(e){return(0,o.Z)((0,o.Z)({},e),{},{state:!0})})),le((function(e){return(0,o.Z)((0,o.Z)({},e),{},{state:t})})))}})}),(0,x.jsx)(l.Z,{xs:12,md:6,className:"setting-item",children:(0,x.jsx)(m.Z,{fullWidth:!0,label:Ue("Zipcode"),color:"",type:"url",error:!$e.zipcode,value:null===ae||void 0===ae?void 0:ae.zipcode,onChange:function(e){var t=e.target.value;t.match(/['\-"><;.\\+/{}!@#$%=^*_|[\]]/)||(Me((function(e){return(0,o.Z)((0,o.Z)({},e),{},{zipcode:!0})})),le((function(e){return(0,o.Z)((0,o.Z)({},e),{},{zipcode:t})})))}})})]})]}),ae&&(0,x.jsx)(l.Z,{xs:12,md:5,lg:4,className:"map-container",children:(0,x.jsx)(d.Z,{addresses:[(0,o.Z)((0,o.Z)({},ae),{},{userInfo:{displayName:S,icon:ke,id:t}})],width:"200px",height:"200px",zoom:10,className:""})})]})})})]}),(Ce||ge||ye)&&(0,x.jsx)(a.Z,{children:(0,x.jsx)(l.Z,{xs:12,className:"submit-button",children:(0,x.jsx)(h.Z,{disabled:!Ee,variant:"contained",onClick:function(){return function(e,t){var n=(0,o.Z)({},e);Object.keys(n).forEach((function(e){"undefined"===typeof n[e]&&(n[e]="")})),(0,c.ps)(n,t)}({id:t,ip:ne,firstName:Z,lastName:j,displayName:S,phoneNumber:z,instagram:O,facebook:U,discord:L,youtube:D,twitter:H,referenceUrl:Q,address:ae,posts:fe},ue)},children:Ue("Submit")})})})]})},v=n(1031).Z;var g=function(){var e=localStorage.getItem("uid"),t=(0,s.useState)(!0),n=(0,i.Z)(t,2),o=n[0],c=n[1],u=(0,f.$G)().t;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(r.Z,{className:"setting-header-container",children:(0,x.jsx)(a.Z,{children:(0,x.jsx)(l.Z,{className:"setting-header",children:(0,x.jsx)("h2",{children:"Settings"})})})}),(0,x.jsx)(r.Z,{children:(0,x.jsxs)(a.Z,{children:[(0,x.jsx)(Z,{id:e}),(0,x.jsx)(l.Z,{xs:12,className:"info-dropdown setting-padding",children:(0,x.jsxs)("h2",{onClick:function(){return c((function(e){return!e}))},children:[u("Posts"),"\xa0\xa0",(0,x.jsx)("i",{size:"small",className:"material-icons",children:o?"visibility_off":"visibility_on"})]})}),(0,x.jsx)("hr",{}),o&&(0,x.jsx)(v,{user:e,settingsPage:!0})]})})]})}}}]);
//# sourceMappingURL=740.877935f9.chunk.js.map