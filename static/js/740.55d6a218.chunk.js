"use strict";(self.webpackChunkbalisales=self.webpackChunkbalisales||[]).push([[740],{1031:function(e,t,n){var s=n(9439),i=n(2791),a=n(9470),r=n(169),l=n(4894),o=n(184),c=i.lazy((function(){return n.e(893).then(n.bind(n,3893))}));t.Z=function(e){var t=e.user,n=e.settingsPage,u=(0,i.useState)([]),d=(0,s.Z)(u,2),m=d[0],h=d[1],f=(0,i.useState)(!1),Z=(0,s.Z)(f,2),g=Z[0],x=Z[1],p=(0,i.useState)({}),v=(0,s.Z)(p,2),j=v[0],N=v[1],y=(0,i.useState)(!1),b=(0,s.Z)(y,2),S=b[0],C=b[1];return(0,i.useEffect)((function(){(0,l.ww)(t).then((function(e){e.sort((function(e,t){return t.timeStamp-e.timeStamp})),h(e)})).catch((function(){console.error("cant get user posts")})).finally((function(){C(!0)}))}),[]),0===(null===m||void 0===m?void 0:m.length)?S?null:(0,o.jsx)(a.Z,{}):(0,o.jsxs)("div",{style:{padding:"20px"},className:"grid-container-posts",children:[n&&(0,o.jsx)(c,{item:j,filterPosts:m,setFilterPosts:h,openEditModal:g,setOpenEditModal:x}),null===m||void 0===m?void 0:m.map((function(e){var t="url(".concat(null===e||void 0===e?void 0:e.urls[0],")"),s="id="+(null===e||void 0===e?void 0:e.id);return(0,o.jsx)(r.Z,{displayUrl:t,item:e,queryParam:s,settingsPage:n,openEditModal:g,setOpenEditModal:x,selectedPost:j,setSelectedPost:N},e.id)}))]})}},3455:function(e,t,n){n.d(t,{Z:function(){return o}});var s=n(9439),i=n(2791),a=n(7993),r=n(3883);r.Z.setApiKey("AIzaSyDwxyCrcshK6kl2ICi5UCtepIqNgPz36T4"),r.Z.setLanguage("en"),r.Z.setRegion("es"),r.Z.setLocationType("ROOFTOP"),r.Z.enableDebug();var l=n(184),o=function(e){var t=e.address,n=e.width,o=e.height,c=(0,i.useState)(!0),u=(0,s.Z)(c,2),d=u[0],m=u[1],h=(0,i.useState)([]),f=(0,s.Z)(h,2),Z=f[0],g=f[1],x={height:o,width:n};return(0,i.useEffect)((function(){d?m(!1):null!==t&&void 0!==t&&t.address&&null!==t&&void 0!==t&&t.city&&function(e){return r.Z.fromAddress(e).then((function(e){var t=e.results[0].geometry.location;return{lat:t.lat,lng:t.lng}}),(function(e){console.error(e)}))}("".concat(null===t||void 0===t?void 0:t.address," ").concat(null===t||void 0===t?void 0:t.unit," ").concat(null===t||void 0===t?void 0:t.city," ").concat(null===t||void 0===t?void 0:t.state," ").concat(null===t||void 0===t?void 0:t.country," ").concat(null===t||void 0===t?void 0:t.zipcode)).then((function(e){g(e)}))}),[t]),(0,i.useMemo)((function(){if(!d)return(0,l.jsx)(a.b6,{icon:"here",mapContainerStyle:x,zoom:10,center:Z,children:(0,l.jsx)(a.Jx,{position:Z},"5")});m(!1)}),[Z])}},740:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var s=n(7022),i=n(9743),a=n(1413),r=n(9439),l=n(2791),o=n(2677),c=n(4894),u=n(9135),d=n(3455),m=n(6151),h=n(4530),f=n(9230),Z=n(184),g=function(e){var t=e.id,n=(0,l.useState)(""),s=(0,r.Z)(n,2),g=s[0],x=s[1],p=(0,l.useState)(""),v=(0,r.Z)(p,2),j=v[0],N=v[1],y=(0,l.useState)(""),b=(0,r.Z)(y,2),S=b[0],C=b[1],w=(0,l.useState)(""),k=(0,r.Z)(w,2),_=k[0],z=k[1],P=(0,l.useState)("https://www.instagram.com/"),W=(0,r.Z)(P,2),$=W[0],I=W[1],F=(0,l.useState)("https://www.facebook.com/"),E=(0,r.Z)(F,2),L=E[0],O=E[1],M=(0,l.useState)({address:"",unit:"",city:"",state:"",country:"",zipcode:""}),T=(0,r.Z)(M,2),U=T[0],A=T[1],R=(0,l.useState)(""),D=(0,r.Z)(R,2),q=D[0],G=D[1],K=(0,l.useState)([]),B=(0,r.Z)(K,2),H=B[0],J=B[1],Q=(0,l.useState)(!0),V=(0,r.Z)(Q,2),X=V[0],Y=V[1],ee=(0,l.useState)(!0),te=(0,r.Z)(ee,2),ne=te[0],se=te[1],ie=(0,l.useState)(!0),ae=(0,r.Z)(ie,2),re=ae[0],le=ae[1],oe=(0,l.useState)(localStorage.getItem("profile-picture-"+localStorage.getItem("uid"))),ce=(0,r.Z)(oe,2),ue=ce[0],de=ce[1],me=(0,l.useState)({firstName:!1,lastName:!1,displayName:!1,phoneNumber:!0,instagram:!0,facebook:!0,address:!0,unit:!0,city:!0,country:!0,state:!0,zipcode:!0}),he=(0,r.Z)(me,2),fe=he[0],Ze=he[1],ge=(0,f.$G)().t,xe=(0,l.useMemo)((function(){return!Object.values(fe).some((function(e){return!1===e}))}),[fe]);(0,l.useEffect)((function(){(0,c.bG)(t).then((function(e){x(e.firstName),N(e.lastName),C(e.displayName),z(e.phoneNumber),I(e.instagram),O(e.facebook),A(e.address),J(e.posts||[]),Ze({firstName:e.firstName.length>0,lastName:e.lastName.length>0,displayName:e.displayName.length>0,phoneNumber:0===e.phoneNumber.length||10===e.phoneNumber.length,instagram:!0,facebook:!0,address:!0,unit:!0,city:!0,country:!0,state:!0,zipcode:!0})}))}),[]);var pe;return(0,Z.jsxs)(o.Z,{xs:12,className:"center settings-container",children:[(0,Z.jsxs)(i.Z,{children:[(0,Z.jsx)(o.Z,{xs:12,className:"info-dropdown",children:(0,Z.jsxs)("h2",{onClick:function(){return Y((function(e){return!e}))},children:["Basic Info\xa0\xa0",(0,Z.jsx)("i",{size:"small",className:"material-icons",children:X?"visibility_off":"visibility_on"})]})}),(0,Z.jsx)("hr",{}),X&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(o.Z,{xs:12,sm:4,className:"setting-item",children:(0,Z.jsx)(h.Z,{fullWidth:!0,label:ge("First Name"),error:!fe.firstName,type:"search",onChange:function(e){var t=e.target.value;t.match(/['\-"><;:\\+{}!@#$%=^*_|[\]]/)||(Ze((function(e){return(0,a.Z)((0,a.Z)({},e),{},{firstName:""!==t})})),x(t))},value:g})}),(0,Z.jsx)(o.Z,{xs:12,sm:4,className:"setting-item",children:(0,Z.jsx)(h.Z,{fullWidth:!0,label:ge("Last Name"),error:!fe.lastName,type:"search",onChange:function(e){var t=e.target.value;t.match(/['\-"><;:\\+{}!@#$%=^*_|[\]]/)||(Ze((function(e){return(0,a.Z)((0,a.Z)({},e),{},{lastName:""!==t})})),N(t))},value:j})}),(0,Z.jsx)(o.Z,{xs:12,sm:4,className:"setting-item",children:(0,Z.jsx)(h.Z,{fullWidth:!0,label:ge("Display Name"),error:!fe.displayName,type:"search",onChange:function(e){var t=e.target.value;t.match(/['\-"><;:\\+{}!@#$%=^*_|[\]]/)||(Ze((function(e){return(0,a.Z)((0,a.Z)({},e),{},{displayName:""!==t})})),C(t))},value:S})})]}),(0,Z.jsx)(o.Z,{xs:12,className:"info-dropdown",children:(0,Z.jsxs)("h2",{onClick:function(){return le((function(e){return!e}))},children:["Location Info\xa0\xa0",(0,Z.jsx)("i",{size:"small",className:"material-icons",children:re?"visibility_off":"visibility_on"})]})}),(0,Z.jsx)("hr",{}),re&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(o.Z,{xs:12,md:U&&7,lg:U&&8,children:[(0,Z.jsxs)(i.Z,{children:[(0,Z.jsx)(o.Z,{xs:12,md:6,className:"setting-item",children:(0,Z.jsx)(h.Z,{fullWidth:!0,label:ge("Address"),error:!fe.address,value:null===U||void 0===U?void 0:U.address,onChange:function(e){var t=e.target.value;t.match(/['\-"><;\\+{}!@#$%=^*_|[\]]/)||(Ze((function(e){return(0,a.Z)((0,a.Z)({},e),{},{address:!0})})),A((function(e){return(0,a.Z)((0,a.Z)({},e),{},{address:t})})))}})}),(0,Z.jsx)(o.Z,{xs:12,md:6,className:"setting-item",children:(0,Z.jsx)(h.Z,{fullWidth:!0,label:ge("Unit"),color:"",type:"url",error:!fe.unit,value:null===U||void 0===U?void 0:U.unit,onChange:function(e){var t=e.target.value;t.match(/['\-"><;\\+{}!@#$%=^*_|[\]]/)||(Ze((function(e){return(0,a.Z)((0,a.Z)({},e),{},{unit:!0})})),A((function(e){return(0,a.Z)((0,a.Z)({},e),{},{unit:t})})))}})})]}),(0,Z.jsxs)(i.Z,{children:[(0,Z.jsx)(o.Z,{xs:12,md:6,className:"setting-item",children:(0,Z.jsx)(h.Z,{fullWidth:!0,label:ge("City"),color:"",type:"url",error:!fe.city,value:null===U||void 0===U?void 0:U.city,onChange:function(e){var t=e.target.value;t.match(/['\-"><;\\+{}!@#$%=^*_|[\]]/)||(Ze((function(e){return(0,a.Z)((0,a.Z)({},e),{},{city:!0})})),A((function(e){return(0,a.Z)((0,a.Z)({},e),{},{city:t})})))}})}),(0,Z.jsx)(o.Z,{xs:12,md:6,className:"setting-item",children:(0,Z.jsx)(h.Z,{fullWidth:!0,label:ge("Country"),color:"",type:"url",error:!fe.country,value:null===U||void 0===U?void 0:U.country,onChange:function(e){var t=e.target.value;t.match(/['\-"><;\\+{}!@#$%=^*_|[\]]/)||(Ze((function(e){return(0,a.Z)((0,a.Z)({},e),{},{country:!0})})),A((function(e){return(0,a.Z)((0,a.Z)({},e),{},{country:t})})))}})})]}),(0,Z.jsxs)(i.Z,{children:[(0,Z.jsx)(o.Z,{xs:12,md:6,className:"setting-item",children:(0,Z.jsx)(h.Z,{fullWidth:!0,label:ge("State"),color:"",type:"url",error:!fe.state,value:null===U||void 0===U?void 0:U.state,onChange:function(e){var t=e.target.value;t.match(/['\-"><;\\+{}!@#$%=^*_|[\]]/)||(Ze((function(e){return(0,a.Z)((0,a.Z)({},e),{},{state:!0})})),A((function(e){return(0,a.Z)((0,a.Z)({},e),{},{state:t})})))}})}),(0,Z.jsx)(o.Z,{xs:12,md:6,className:"setting-item",children:(0,Z.jsx)(h.Z,{fullWidth:!0,label:ge("Zipcode"),color:"",type:"url",error:!fe.zipcode,value:null===U||void 0===U?void 0:U.zipcode,onChange:function(e){var t=e.target.value;t.match(/['\-"><;\\+{}!@#$%=^*_|[\]]/)||(Ze((function(e){return(0,a.Z)((0,a.Z)({},e),{},{zipcode:!0})})),A((function(e){return(0,a.Z)((0,a.Z)({},e),{},{zipcode:t})})))}})})]})]}),U&&(0,Z.jsx)(o.Z,{xs:12,md:5,lg:4,className:"map-container",children:(0,Z.jsx)(d.Z,{address:U,width:"280px",height:"210px"})})]}),(0,Z.jsx)(o.Z,{xs:12,className:"info-dropdown",children:(0,Z.jsxs)("h2",{onClick:function(){return se((function(e){return!e}))},children:["Social Info\xa0\xa0",(0,Z.jsx)("i",{size:"small",className:"material-icons",children:ne?"visibility_off":"visibility_on"})]})}),(0,Z.jsx)("hr",{}),ne&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(o.Z,{xs:12,md:7,lg:8,children:(0,Z.jsxs)(i.Z,{children:[(0,Z.jsx)(o.Z,{xs:12,className:"setting-item",children:(0,Z.jsx)(h.Z,{fullWidth:!0,label:ge("Phone Number"),error:!fe.phoneNumber,onChange:function(e){var t=e.target.value.replace("(","").replace(")","").replace(" ","").replace("-","");Ze((function(e){return(0,a.Z)((0,a.Z)({},e),{},{phoneNumber:0===t.length||10===t.length})})),z(t)},value:(pe=_,isNaN(pe)?"":(pe.length>3?"(":"")+pe.substring(0,3)+(pe.length>3?") ":"")+pe.substring(3,6)+(pe.length>6?"-":"")+pe.substring(6,10)),inputProps:{maxLength:14}})}),(0,Z.jsx)(o.Z,{xs:12,className:"setting-item",children:(0,Z.jsx)(h.Z,{fullWidth:!0,label:ge(" "),color:"",type:"url",error:!fe.instagram,onChange:function(e){var t=e.target.value;if(!t.match(/['\-"><;\\+{}!@#$%=^*_|[\]]/)){var n=t.split("/");"undefined"!==typeof n[3]&&(Ze((function(e){return(0,a.Z)((0,a.Z)({},e),{},{instagram:n[3].length>0})})),I("https://www.instagram.com/"+n[3]))}},value:$})}),(0,Z.jsx)(o.Z,{xs:12,className:"setting-item",children:(0,Z.jsx)(h.Z,{fullWidth:!0,label:ge(" "),color:"",type:"url",error:!fe.facebook,onChange:function(e){var t=e.target.value;if(!t.match(/['\-"><;\\+{}!@#$%=^*_|[\]]/)){var n=t.split("/");"undefined"!==typeof n[3]&&(Ze((function(e){return(0,a.Z)((0,a.Z)({},e),{},{facebook:n[3].length>0})})),O("https://www.facebook.com/"+n[3]))}},value:L})})]})}),(0,Z.jsx)(o.Z,{xs:12,md:5,lg:4,className:"setting-item profile-image-update",children:(0,Z.jsxs)("label",{className:ue?"":"profile-label",htmlFor:"inputTag",children:[ue?null:(0,Z.jsx)("span",{style:{color:"black"},children:ge("Profile Picture")}),(0,Z.jsx)("input",{id:"inputTag",className:"profile-input",type:"file",onChange:function(e){G(e.target.files[0]),de(URL.createObjectURL(e.target.files[0]))},accept:"image/*"}),ue?(0,Z.jsx)("img",{src:ue,className:"upload-image",alt:"profile display"}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("br",{}),(0,Z.jsx)(u.H3h,{size:40})]})]})})]})]}),(0,Z.jsx)(i.Z,{children:(0,Z.jsx)(o.Z,{xs:12,className:"submit-button",children:(0,Z.jsx)(m.Z,{disabled:!xe,variant:"contained",onClick:function(){return(0,c.ps)({id:t,firstName:g,lastName:j,displayName:S,phoneNumber:_,instagram:$,facebook:L,address:U,posts:H},q)},children:ge("Submit")})})})]})},x=n(1031).Z;var p=function(){var e=localStorage.getItem("uid");return(0,Z.jsx)(s.Z,{children:(0,Z.jsxs)(i.Z,{children:[(0,Z.jsx)(g,{id:e}),(0,Z.jsx)("hr",{}),(0,Z.jsx)(x,{user:e,settingsPage:!0})]})})}}}]);
//# sourceMappingURL=740.55d6a218.chunk.js.map