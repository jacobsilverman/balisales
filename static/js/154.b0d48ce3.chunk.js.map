{"version":3,"file":"static/js/154.b0d48ce3.chunk.js","mappings":"qPAIaA,EAAO,yCAAG,WAAOC,GAAP,qFACbC,GAASC,EAAAA,EAAAA,IAAIC,EAAAA,GAAI,QAASH,GADb,UAEII,EAAAA,EAAAA,IAAOH,GAAQI,KAAf,yCAAoB,WAAOC,GAAP,kFACnCC,GADmC,kBACjBD,EAAKA,QADY,IACJN,GAAIM,EAAKN,GAAIQ,KAAM,KAE7CC,EAAI,EAH0B,YAGvBA,EAAEF,EAAWG,gBAHU,kCAIfC,EAAAA,EAAAA,MAJe,cAI/BC,EAJ+B,OAK/BC,GAAUC,EAAAA,EAAAA,IAAIF,EAAD,sBAAyBN,EAAKN,GAA9B,kBAA0CS,IALxB,UAM/BM,EAAAA,EAAAA,IAAeF,GAClBR,MAAK,SAACW,GACLT,EAAWC,KAAKS,KAAKD,EACtB,IACAE,OAAM,SAACC,GACNC,QAAQD,MAAMA,EACf,IAZkC,OAGMV,IAHN,gDAehCF,GAfgC,4CAApB,uDAFJ,cAEbc,EAFa,yBAmBZA,GAnBY,2CAAH,sD,qEC4GpB,IC9GA,EDeA,WAAuB,IAAD,IACZC,EAAkB,IAAIC,gBAAgBC,OAAOC,SAASC,QACtDC,EAASC,OAAOC,YAAYP,EAAgBQ,WAClD,GAAsCC,EAAAA,EAAAA,UAAS,MAA/C,eAAOC,EAAP,KAAoBC,EAApB,KAEA,GAAwCF,EAAAA,EAAAA,UAAS,GAAjD,eAAOG,EAAP,KAAqBC,EAArB,KACA,GAAsCJ,EAAAA,EAAAA,UAAS,CAAC,GAAhD,eAAOK,EAAP,KAAoBC,EAApB,KAEA,GAAoCN,EAAAA,EAAAA,YAApC,eAAOO,EAAP,KAAmBC,EAAnB,MAEAC,EAAAA,EAAAA,YAAU,WACNzC,EAAQ4B,EAAO3B,IAAIK,MAAK,SAACC,GACrB,IAAImC,EAAc,IAAIC,KAAJ,OAASpC,QAAT,IAASA,OAAT,EAASA,EAAMqC,WAAWC,qBAE5CP,EAAe/B,GACf2B,EAAeQ,EAClB,GACJ,GAAE,KAEHD,EAAAA,EAAAA,YAAU,WAAO,IAAD,GACZK,EAAAA,EAAAA,IAAiB,OAACT,QAAD,IAACA,GAAD,UAACA,EAAaU,cAAd,aAAC,EAAqB9C,IAAIK,MAAK,SAAC0C,GAC7CR,EAAcQ,EACjB,IAAE7B,OAAM,WACLqB,EAAcS,EACjB,GACJ,GAAE,CAACZ,IAGJ,IAAMa,GACF,UAAC,EAAAC,SAAD,YACI,SAACC,EAAA,EAAD,CAAKC,GAAI,GAAIC,UAAU,uBAAvB,UACI,+BAAKjB,QAAL,IAAKA,OAAL,EAAKA,EAAakB,WAEV,OAAXlB,QAAW,IAAXA,OAAA,EAAAA,EAAa5B,QAAQ,SAAC2C,EAAA,EAAD,CAAKC,GAAI,GAAIG,GAAI,GAAIC,GAAI,EAAGC,MAAO,CAACC,gBAAgB,OAAD,cAAStB,QAAT,IAASA,OAAT,EAASA,EAAa5B,KAAK0B,GAA3B,MAA8CmB,UAAU,kCAA3G,UAClB,UAAC,KAAD,CAAMA,UAAU,eAAeM,GAAI,CAACC,SAAU,WAAYlC,OAAQ,cAAQU,QAAR,IAAQA,GAAR,UAAQA,EAAaU,cAArB,aAAQ,EAAqB9C,KAA/F,WACI,gBAAKqD,UAAU,eAAf,gBAA+BjB,QAA/B,IAA+BA,GAA/B,UAA+BA,EAAaU,cAA5C,aAA+B,EAAqBe,QACpD,gBAAKR,UAAU,yBAAyBI,MAAO,CAACC,gBAAgB,OAAD,OAASpB,EAAT,cAI3D,OAAXF,QAAW,IAAXA,OAAA,EAAAA,EAAa1B,gBAAiB,IAAK,UAACoD,EAAA,EAAD,YAChC,SAACX,EAAA,EAAD,CAAKC,GAAI,EAAGC,UAAU,iBAAtB,UACI,SAACU,EAAA,EAAD,CAAQC,QAAQ,YAAYC,QAAS,kBAAM9B,GAAgB,SAAA+B,GAAG,OAAKA,EAAI,EAAK,GAAe,OAAX9B,QAAW,IAAXA,OAAA,EAAAA,EAAa1B,gBAAe,EAAKwD,EAAI,CAAvD,GAAzB,EAArC,yBAEJ,SAACf,EAAA,EAAD,CAAKC,GAAI,EAAGC,UAAU,aAAtB,UACI,SAACU,EAAA,EAAD,CAAQC,QAAQ,YAAYC,QAAS,kBAAM9B,GAAgB,SAAA+B,GAAG,OAAKA,EAAI,IAAL,OAAQ9B,QAAR,IAAQA,OAAR,EAAQA,EAAa1B,eAAzB,GAAzB,EAArC,wBAKR,SAACoD,EAAA,EAAD,CAAKL,MAAO,CAACU,eAAe,UAA5B,UACI,UAAChB,EAAA,EAAD,CAAKC,GAAI,GAAIG,GAAI,GAAIF,UAAU,iBAA/B,WACI,iBAAKI,MAAO,CAACW,QAAS,OAAQD,eAAgB,gBAA9C,WACI,iBAAKd,UAAU,kBAAf,WACI,gBAAKA,UAAU,mBAAf,qBAGCrB,MAEL,iBAAKqB,UAAU,kBAAf,WACI,gBAAKA,UAAU,mBAAf,gBACKjB,QADL,IACKA,OADL,EACKA,EAAaiC,OAFtB,OAIKjC,QAJL,IAIKA,OAJL,EAIKA,EAAakC,UAElB,iBAAKjB,UAAU,kBAAf,WACI,gBAAKA,UAAU,mBAAf,gBACKjB,QADL,IACKA,OADL,EACKA,EAAamC,YAFtB,OAIKnC,QAJL,IAIKA,OAJL,EAIKA,EAAaoC,aAGtB,UAACV,EAAA,EAAD,CAAKT,UAAU,kBAAf,WACI,gBAAKA,UAAU,mBAAf,0BAGA,SAACF,EAAA,EAAD,CAAKC,GAAI,GAAT,gBACKhB,QADL,IACKA,OADL,EACKA,EAAaqC,yBAStC,OAASzC,GAAgBI,GAAgBE,EAMvCW,GALC,SAACa,EAAA,EAAD,WACC,SAACX,EAAA,EAAD,CAAKC,GAAI,GAAIC,UAAU,SAAvB,UACI,SAACqB,EAAA,EAAD,CAAYC,KAAM,SAI7B,C","sources":["Data/Services/PostInfo.js","Components/SelectPost/SelectPost.js","Components/SelectPost/index.js"],"sourcesContent":["import { doc, getDoc } from 'firebase/firestore';\r\nimport { db } from '../../firebase-config';\r\nimport { ref, getDownloadURL, getStorage } from \"firebase/storage\";\r\n\r\nexport const getPost = async (id) => {\r\n    const docRef = doc(db, \"posts\", id);\r\n    const postData = await getDoc(docRef).then(async (data) => {\r\n        let parsedItem = { ...data.data(), id: data.id, urls: []};\r\n\r\n        for (var i = 0; i<parsedItem.numberOfImages; i++) {\r\n          const storage = await getStorage();\r\n          const listRef = ref(storage, `/PostImages/${data.id}/image-${i}`);\r\n          await getDownloadURL(listRef)\r\n            .then((url) => {\r\n              parsedItem.urls.push(url);\r\n            })\r\n            .catch((error) => {\r\n              console.error(error);\r\n            });\r\n        };\r\n\r\n        return parsedItem;\r\n    });\r\n    return postData;\r\n}","import { Fragment, useEffect, useState } from 'react';\r\n\r\n\r\nimport { getProfilePicture } from '../../Data/Services/userInfo.js';\r\nimport { getPost } from '../../Data/Services/PostInfo.js';\r\nimport defaultProfile from '../../Data/Images/default-profile.jpg';\r\n\r\nimport { ClipLoader } from 'react-spinners';\r\n\r\nimport './SelectPost.scss';\r\n\r\nimport { Col, Row } from 'react-bootstrap';\r\n\r\nimport Button from '@mui/material/Button';\r\n\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction SelectPost() {\r\n    const urlSearchParams = new URLSearchParams(window.location.search);\r\n    const params = Object.fromEntries(urlSearchParams.entries());\r\n    const [createdDate, setCreatedData] = useState(null);\r\n\r\n    const [displayImage, setDisplayImage] = useState(0);\r\n    const [displayPost, setDisplayPost] = useState({});\r\n\r\n    const [profilePic, setProfilePic] = useState();\r\n\r\n    useEffect(() => {\r\n        getPost(params.id).then((data) => {\r\n            var dateCreated = new Date(data?.timeStamp).toLocaleDateString();\r\n\r\n            setDisplayPost(data);\r\n            setCreatedData(dateCreated);\r\n        });\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        getProfilePicture(displayPost?.author?.id).then((result) => {\r\n            setProfilePic(result);\r\n        }).catch(() => {\r\n            setProfilePic(defaultProfile);\r\n        });\r\n    }, [displayPost]);\r\n\r\n\r\n    const displaySelectedPost = (\r\n        <Fragment>\r\n            <Col xs={12} className=\"display-title center\" >\r\n                <h1>{displayPost?.title}</h1>\r\n            </Col>\r\n            {displayPost?.urls && <Col xs={11} sm={11} md={7} style={{backgroundImage: `url(${displayPost?.urls[displayImage]})`}} className=\"image-container align-items-end\">\r\n                <Link className=\"link-wrapper\" to={{pathname: '/profile', search: \"id=\" + displayPost?.author?.id}}>\r\n                    <div className=\"display-name\">{displayPost?.author?.name}</div>\r\n                    <div className=\"account-profile center\" style={{backgroundImage: `url(${profilePic})`}} />\r\n                </Link>\r\n            </Col>}\r\n\r\n            {displayPost?.numberOfImages > 1 && <Row>\r\n                <Col xs={6} className=\"previous-image\">\r\n                    <Button variant=\"contained\" onClick={() => setDisplayImage(cur => (cur-1) < 0 ? displayPost?.numberOfImages-1 : (cur-1))}>Previous</Button>\r\n                </Col>\r\n                <Col xs={6} className=\"next-image\">\r\n                    <Button variant=\"contained\" onClick={() => setDisplayImage(cur => (cur+1)%displayPost?.numberOfImages)}>Next</Button>\r\n                </Col>\r\n            </Row>}\r\n\r\n            \r\n            <Row style={{justifyContent:\"center\"}}>\r\n                <Col xs={12} sm={12} className=\"info-container\">\r\n                    <div style={{display: \"flex\", justifyContent: \"space-evenly\"}}>\r\n                        <div className=\"content-wrapper\">\r\n                            <div className=\"desciption-title\">\r\n                                Created\r\n                            </div>\r\n                            {createdDate}\r\n                        </div>\r\n                        <div className=\"content-wrapper\">\r\n                            <div className=\"desciption-title\">\r\n                                {displayPost?.type}\r\n                            </div>\r\n                            {displayPost?.price}\r\n                        </div>\r\n                        <div className=\"content-wrapper\">\r\n                            <div className=\"desciption-title\">\r\n                                {displayPost?.condition}\r\n                            </div>\r\n                            {displayPost?.brand}\r\n                        </div>\r\n                    </div>\r\n                    <Row className=\"content-wrapper\">\r\n                        <div className=\"desciption-title\">\r\n                            description\r\n                        </div>\r\n                        <Col xs={12}>\r\n                            {displayPost?.description}\r\n                        </Col>\r\n                    </Row>\r\n                </Col>\r\n            </Row>\r\n        </Fragment>\r\n    );\r\n\r\n\r\n    return (!createdDate || !displayPost || !profilePic )\r\n    ? (<Row>\r\n        <Col xs={12} className=\"center\">\r\n            <ClipLoader size={150} />\r\n        </Col>\r\n    </Row>)\r\n    : displaySelectedPost;\r\n}\r\n\r\nexport default SelectPost;","import SelectPost from './SelectPost.js';\r\n\r\nexport default SelectPost;"],"names":["getPost","id","docRef","doc","db","getDoc","then","data","parsedItem","urls","i","numberOfImages","getStorage","storage","listRef","ref","getDownloadURL","url","push","catch","error","console","postData","urlSearchParams","URLSearchParams","window","location","search","params","Object","fromEntries","entries","useState","createdDate","setCreatedData","displayImage","setDisplayImage","displayPost","setDisplayPost","profilePic","setProfilePic","useEffect","dateCreated","Date","timeStamp","toLocaleDateString","getProfilePicture","author","result","defaultProfile","displaySelectedPost","Fragment","Col","xs","className","title","sm","md","style","backgroundImage","to","pathname","name","Row","Button","variant","onClick","cur","justifyContent","display","type","price","condition","brand","description","ClipLoader","size"],"sourceRoot":""}