"use strict";(self.webpackChunkbalisales=self.webpackChunkbalisales||[]).push([[929,906,89],{8679:function(e,t,n){n.d(t,{Z:function(){return j}});var s=n(4165),l=n(5861),a=n(885),i=n(2791),r=n(7342),c=n(9743),o=n(2677),u=n(6564),d=n(1089),h=n(4894),m=n(4453),x=n(9062),f=n(2892),Z=n(184);var j=function(e){var t=e.user,n=e.accountView,j=(0,i.useState)([]),p=(0,a.Z)(j,2),g=p[0],v=p[1];(0,i.useEffect)((function(){(0,h.ww)(t).then((function(e){v(e)})).catch((function(){console.error("cant get user posts")}))}),[]);var b=function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n,l,a,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,m.cF)(),l=(0,x.JU)(f.db,"posts",t.id),e.next=4,(0,x.oe)(l);case 4:(0,h.sq)(t.id),a=0;case 6:if(!(a<t.numberOfImages)){e.next=13;break}return i=(0,m.iH)(n,"PostImages/".concat(t.id,"/image-").concat(a)),e.next=10,(0,m.oq)(i);case 10:a++,e.next=6;break;case 13:v(null===g||void 0===g?void 0:g.filter((function(e){return e.id!==t.id})));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,Z.jsx)(i.Fragment,{children:function(){if(0===g.length)return(0,Z.jsx)(c.Z,{children:(0,Z.jsx)(o.Z,{xs:12,className:"center",children:(0,Z.jsx)(u.Z,{size:150})})});for(var e=[],t=[],s=0;s<g.length;s++)t.push(g[s]),(s+1)%3!==0&&s!==g.length-1||(e.push(t),t=[]);return e.length>0&&(0,Z.jsx)(r.ZP,{container:!0,style:{padding:"0px"},className:"grid-container-posts",children:e.map((function(e){return e.map((function(e){return(0,Z.jsx)(d.default,{item:e,accountView:n,deletePost:b},e.id)}))}))})||(0,Z.jsx)(c.Z,{children:(0,Z.jsx)(o.Z,{xs:12,className:"center",children:"No Posts Available"})})}()})}},906:function(e,t,n){n.r(t);var s=n(8679);t.default=s.Z},1089:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var s=n(885),l=n(2791),a=n(3504),i=n(7342),r=n(4165),c=n(5861),o=n(1083),u=n(6519),d=n(9743),h=n(2677),m=n(6157),x=n(184),f=function(e){var t=e.deletePost,n=e.item,s=e.openDeleteModal,l=e.setOpenDeleteModal;return(0,x.jsx)(u.Z,{open:s,id:"delete-modal",children:(0,x.jsx)(d.Z,{className:"modal-dialog delete-modal",children:(0,x.jsxs)(h.Z,{xs:5,sm:5,md:2,className:"modal-content modal-background center",children:[(0,x.jsx)(d.Z,{className:"modal-header",children:(0,x.jsx)(h.Z,{className:"modal-title",children:"Do you want to delete this post?"})}),(0,x.jsxs)(d.Z,{children:[(0,x.jsx)(h.Z,{xs:6,children:(0,x.jsx)(m.Z,{onClick:function(){return l(!1)},children:"no"})}),(0,x.jsx)(h.Z,{xs:6,children:(0,x.jsx)(m.Z,{onClick:function(){t(n),l(!1)},children:"yes"})})]})]})})})},Z=n(1747),j=n(4530),p=n(6362),g=n(9891),v=n(4925),b=n(3347),N=n(9062),C=n(2892),w=n(9135),S=n(4453),k=function(e){var t=e.item,n=e.openEditModal,a=e.setOpenEditModal,k=e.deletePost,y=(0,l.useState)(t.title),P=(0,s.Z)(y,2),V=P[0],z=P[1],H=(0,l.useState)(t.description),I=(0,s.Z)(H,2),M=I[0],W=I[1],D=(0,l.useState)(t.type),O=(0,s.Z)(D,2),E=O[0],F=O[1],R=(0,l.useState)(t.brand),U=(0,s.Z)(R,2),B=U[0],T=U[1],L=(0,l.useState)(t.condition),q=(0,s.Z)(L,2),J=q[0],A=q[1],G=(0,l.useState)(t.price),Y=(0,s.Z)(G,2),K=Y[0],Q=Y[1],X=(0,l.useState)(!1),$=(0,s.Z)(X,2),_=$[0],ee=$[1],te=(0,l.useState)(t.numberOfImages),ne=(0,s.Z)(te,2),se=ne[0],le=(ne[1],(0,l.useState)({})),ae=(0,s.Z)(le,2),ie=ae[0],re=ae[1],ce=(0,l.useState)(""),oe=(0,s.Z)(ce,2),ue=(oe[0],oe[1]);var de=function(e){return e.map((function(e,t){return(0,x.jsx)("option",{value:e,children:e},t)}))},he=function(){var e=(0,c.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,N.JU)(C.db,"posts",t.id),e.next=3,(0,N.pl)(n,{title:V,type:E,brand:B,condition:J,price:K,description:M,timeStamp:Date.now(),numberOfImages:se,author:{name:t.author.name,id:t.author.id}}).then((function(){var e=(0,S.iH)((0,S.cF)(),"PostImages/".concat(t.id,"/image-0"));console.log("pictureRef: ",e)})).catch((function(e){console.error("problem: ",e)})).finally((function(){window.location.reload()}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();i.ZP,t.urls.map((function(e){return(0,x.jsx)(i.ZP,{item:!0,className:"center",style:{backgroundImage:"url(".concat(e,")"),backgroundSize:"100% 100%",width:"100px",height:"100px"},onClick:function(){return function(e){re((function(t){var n;return t[e]=null===(n=!t[e])||void 0===n||n,t})),console.log(ie)}(e)},children:ie[e]},e)})),d.Z,h.Z,w.H3h;return(0,x.jsx)(u.Z,{open:n,children:(0,x.jsx)(d.Z,{className:"edit-modal",children:(0,x.jsxs)(h.Z,{xs:7,className:"modal-background center",children:[(0,x.jsx)(f,{deletePost:k,item:t,openDeleteModal:_,setOpenDeleteModal:ee}),(0,x.jsxs)(d.Z,{className:"edit-input",children:[(0,x.jsx)(h.Z,{xs:6,sm:9,className:"left",children:(0,x.jsx)("h2",{children:"Edit"})}),(0,x.jsx)(h.Z,{xs:6,sm:3,children:(0,x.jsx)(m.Z,{variant:"danger",onClick:function(e){e.preventDefault(),ee(!0)},children:"Delete"})})]}),(0,x.jsx)(d.Z,{className:"edit-input",children:(0,x.jsx)(j.Z,{fullWidth:!0,size:"small",value:V,label:"Title",className:"input-width",color:"",onChange:function(e){return z(e.target.value)}})}),(0,x.jsx)(d.Z,{className:"edit-input",children:(0,x.jsx)(j.Z,{fullWidth:!0,size:"small",value:K,label:"Price",className:"input-width",color:"",onChange:function(e){return Q(e.target.value)}})}),(0,x.jsx)(d.Z,{className:"edit-input",children:(0,x.jsxs)(p.Z,{fullWidth:!0,children:[(0,x.jsx)(v.Z,{size:"small",id:"brand-label",children:"Brand"}),(0,x.jsxs)(b.Z,{labelId:"brand-label",id:"brand-select",size:"small",value:B,label:"Brand",onChange:function(e){return T(e.target.value)},children:[(0,x.jsx)(g.Z,{value:"default",children:"default"}),de(o.YS)]})]})}),(0,x.jsx)(d.Z,{className:"edit-input",children:(0,x.jsxs)(p.Z,{fullWidth:!0,children:[(0,x.jsx)(v.Z,{size:"small",id:"business-label",children:"Business"}),(0,x.jsxs)(b.Z,{labelId:"business-label",id:"business-select",size:"small",value:E,label:"Type",onChange:function(e){return F(e.target.value)},children:[(0,x.jsx)(g.Z,{value:"default",children:"select"}),de(o.V5)]})]})}),(0,x.jsx)(d.Z,{className:"edit-input",children:(0,x.jsxs)(p.Z,{fullWidth:!0,children:[(0,x.jsx)(v.Z,{size:"small",id:"condition-label",children:"Condition"}),(0,x.jsxs)(b.Z,{labelId:"condition-label",id:"condition-select",size:"small",value:J,label:"Condition",onChange:function(e){return A(e.target.value)},children:[(0,x.jsx)(g.Z,{value:"default",children:"default"}),de([1,2,3,4,5,6,7,8,9,10])]})]})}),(0,x.jsx)(d.Z,{className:"edit-input",children:(0,x.jsx)(Z.Z,{fullwidth:"true",minRows:3,value:M,placeholder:"Description",label:"description",onChange:function(e){return W(e.target.value)}})}),(0,x.jsxs)(d.Z,{className:"edit-input",children:[(0,x.jsx)(h.Z,{xs:6,children:(0,x.jsx)(m.Z,{onClick:function(){return a(!1)},children:"Cancel"})}),(0,x.jsx)(h.Z,{xs:6,children:(0,x.jsx)(m.Z,{onClick:function(){he(),a(!1)},children:"Submit"})})]})]})})})};var y=function(e){var t=e.item,n=e.viewCount,r=e.accountView,c=e.deletePost,o=(0,l.useState)(!1),u=(0,s.Z)(o,2),d=u[0],h=u[1],m="id="+(null===t||void 0===t?void 0:t.id),f=isNaN(12/n);return(0,x.jsxs)(l.Fragment,{children:[(0,x.jsx)(k,{item:t,openEditModal:d,setOpenEditModal:h,deletePost:c}),(0,x.jsx)(i.ZP,{item:!0,className:"post-container",style:{backgroundImage:"url(".concat(null===t||void 0===t?void 0:t.urls[0],")")},id:null===t||void 0===t?void 0:t.id,xs:f?4:12/n,children:(0,x.jsx)(a.rU,{className:"link",to:!r&&{pathname:"/singlePost",search:m},onClick:r&&function(e){e.preventDefault(),h(!0)},children:(null===t||void 0===t?void 0:t.numberOfImages)>1&&(0,x.jsx)("svg",{style:{marginLeft:"auto",marginRight:"1vw",width:"5vw",height:"5vw",color:"white"},viewBox:"0 0 24 24",children:(0,x.jsx)("path",{fill:"currentColor",d:"M21 16V6H7V16H21M21 4C21.53 4 22.04 4.21 22.41 4.59C22.79 4.96 23 5.47 23 6V16C23 16.53 22.79 17.04 22.41 17.41C22.04 17.79 21.53 18 21 18H7C5.89 18 5 17.1 5 16V6C5 4.89 5.89 4 7 4H21M3 20H18V22H3C2.47 22 1.96 21.79 1.59 21.41C1.21 21.04 1 20.53 1 20V9H3V20Z"})})})})]})}},4929:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});var s=n(885),l=n(2791),a=n(7022),i=n(9743),r=n(2677),c=n(4894),o=n(906),u=n(9135),d=n(6151),h=n(4530),m=n(184);var x=function(){var e=(0,l.useState)(""),t=(0,s.Z)(e,2),n=t[0],x=t[1],f=(0,l.useState)(""),Z=(0,s.Z)(f,2),j=Z[0],p=Z[1],g=(0,l.useState)(""),v=(0,s.Z)(g,2),b=v[0],N=v[1],C=(0,l.useState)(""),w=(0,s.Z)(C,2),S=w[0],k=w[1],y=(0,l.useState)(""),P=(0,s.Z)(y,2),V=P[0],z=P[1],H=(0,l.useState)(""),I=(0,s.Z)(H,2),M=I[0],W=I[1],D=(0,l.useState)(""),O=(0,s.Z)(D,2),E=O[0],F=O[1],R=(0,l.useState)(""),U=(0,s.Z)(R,2),B=U[0],T=U[1],L=(0,l.useState)([]),q=(0,s.Z)(L,2),J=q[0],A=q[1],G=(0,l.useState)(null),Y=(0,s.Z)(G,2),K=Y[0],Q=Y[1];return(0,l.useEffect)((function(){(0,c.bG)().then((function(e){x(e.id),p(e.firstName),N(e.lastName),k(e.displayName),z(e.phoneNumber),W(e.instagram),F(e.facebook),A(e.posts||[])}))}),[]),(0,m.jsx)(a.Z,{children:(0,m.jsxs)(i.Z,{children:[(0,m.jsxs)(r.Z,{xs:12,className:"center settings-container",children:[(0,m.jsxs)(i.Z,{children:[(0,m.jsx)(r.Z,{xs:12,md:"6",lg:4,className:"setting-item",children:(0,m.jsx)(h.Z,{fullWidth:!0,label:"first name",color:"",onChange:function(e){return p(e.target.value)},value:j})}),(0,m.jsx)(r.Z,{xs:12,md:"6",lg:4,className:"setting-item",children:(0,m.jsx)(h.Z,{fullWidth:!0,label:"last name",color:"",onChange:function(e){return N(e.target.value)},value:b})}),(0,m.jsx)(r.Z,{xs:12,md:"6",lg:4,className:"setting-item",children:(0,m.jsx)(h.Z,{fullWidth:!0,label:"display name",color:"",onChange:function(e){return k(e.target.value)},value:S})}),(0,m.jsx)(r.Z,{xs:12,md:"6",lg:4,className:"setting-item",children:(0,m.jsx)(h.Z,{fullWidth:!0,label:"phone number",color:"",onChange:function(e){return z(e.target.value)},value:V})}),(0,m.jsx)(r.Z,{xs:12,md:"6",lg:4,className:"setting-item",children:(0,m.jsx)(h.Z,{fullWidth:!0,label:"instagram",color:"",onChange:function(e){return W(e.target.value)},value:M})}),(0,m.jsx)(r.Z,{xs:12,md:"6",lg:4,className:"setting-item",children:(0,m.jsx)(h.Z,{fullWidth:!0,label:"facebook",color:"",onChange:function(e){return F(e.target.value)},value:E})}),(0,m.jsx)(r.Z,{xs:12,className:"setting-item",children:(0,m.jsxs)("label",{className:"profile-label",htmlFor:"inputTag",children:[(0,m.jsx)("span",{style:{color:"black"},children:"Profile Picture"}),(0,m.jsx)("input",{id:"inputTag",className:"profile-input",type:"file",onChange:function(e){T(e.target.files[0]),Q(URL.createObjectURL(e.target.files[0]))},accept:"/image/*"}),(0,m.jsx)("br",{}),K?(0,m.jsx)("img",{src:K,className:"upload-image",alt:"preview image"}):(0,m.jsx)(u.H3h,{size:40})]})})]}),(0,m.jsx)(i.Z,{children:(0,m.jsx)(r.Z,{xs:12,className:"submit-button",children:(0,m.jsx)(d.Z,{variant:"contained",onClick:function(){return(0,c.ps)({id:n,firstName:j,lastName:b,displayName:S,phoneNumber:V,instagram:M,facebook:E,posts:J},B)},children:"Submit"})})})]}),(0,m.jsx)("hr",{}),(0,m.jsx)(o.default,{user:n,accountView:!0})]})})}}}]);
//# sourceMappingURL=929.1bcc91b3.chunk.js.map