"use strict";(self.webpackChunkbalisales=self.webpackChunkbalisales||[]).push([[893],{3893:function(e,n,t){t.r(n),t.d(n,{default:function(){return w}});var i=t(4165),a=t(5861),l=t(9439),s=t(2791),r=t(3675),d=t(6519),o=t(9743),c=t(2677),u=t(6157),f=t(9230),h=t(184),m=function(e){var n=e.deletePost,t=e.item,i=e.openDeleteModal,a=e.setOpenDeleteModal,l=e.setOpenEditModal,s=(0,f.$G)().t;return(0,h.jsx)(d.Z,{open:i,id:"delete-modal",children:(0,h.jsx)(o.Z,{className:"modal-dialog delete-modal",children:(0,h.jsxs)(c.Z,{xs:5,sm:5,md:2,className:"modal-content modal-background center",children:[(0,h.jsx)(o.Z,{className:"modal-header",children:(0,h.jsx)(c.Z,{className:"modal-title",children:s("Do you want to delete this post?")})}),(0,h.jsxs)(o.Z,{children:[(0,h.jsx)(c.Z,{xs:6,children:(0,h.jsx)(u.Z,{onClick:function(){return a(!1)},children:s("No")})}),(0,h.jsx)(c.Z,{xs:6,children:(0,h.jsx)(u.Z,{onClick:function(){n(t).then((function(){return l(!1)})),a(!1)},children:s("Yes")})})]})]})})})},p=t(9891),v=t(1747),x=t(4530),b=t(6362),Z=t(4925),j=t(3347),g=t(9062),N=t(2892),k=t(4894),y=t(4453),C=function(e){var n=e.item,t=e.openEditModal,C=e.setOpenEditModal,w=e.filterPosts,D=e.setFilterPosts,O=(0,s.useState)(null===n||void 0===n?void 0:n.title),S=(0,l.Z)(O,2),P=S[0],z=S[1],I=(0,s.useState)(null===n||void 0===n?void 0:n.description),M=(0,l.Z)(I,2),E=M[0],W=M[1],B=(0,s.useState)(null===n||void 0===n?void 0:n.type),R=(0,l.Z)(B,2),F=R[0],T=R[1],q=(0,s.useState)(null===n||void 0===n?void 0:n.brand),G=(0,l.Z)(q,2),H=G[0],J=G[1],U=(0,s.useState)(null===n||void 0===n?void 0:n.condition),Y=(0,l.Z)(U,2),$=Y[0],K=Y[1],V=(0,s.useState)(null===n||void 0===n?void 0:n.price),A=(0,l.Z)(V,2),L=A[0],Q=A[1],X=(0,s.useState)(!1),_=(0,l.Z)(X,2),ee=_[0],ne=_[1],te=(0,f.$G)().t;(0,s.useEffect)((function(){z(n.title),W(n.description),T(n.type),J(n.brand),K(n.condition),Q(n.price)}),[n]);var ie=function(e,n){return e.map((function(e){return(0,h.jsx)(p.Z,{value:e,children:te(e)},n+"-"+e)}))},ae=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,g.JU)(N.db,"posts",n.id),e.next=3,(0,g.pl)(t,{title:P,type:F,brand:H,condition:$,price:L,description:E,timeStamp:Date.now(),numberOfImages:n.numberOfImages,author:{name:n.author.name,id:n.author.id}}).then((function(){var e=(0,y.iH)((0,y.cF)(),"PostImages/".concat(n.id,"/image-0"));console.log("pictureRef: ",e)})).catch((function(e){console.error("problem: ",e)})).finally((function(){window.location.reload()}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(n){var t,a,l,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,y.cF)(),a=(0,g.JU)(N.db,"posts",n.id),e.next=4,(0,g.oe)(a);case 4:(0,k.sq)(n.id),l=0;case 6:if(!(l<n.numberOfImages)){e.next=13;break}return s=(0,y.iH)(t,"PostImages/".concat(n.id,"/image-").concat(l)),e.next=10,(0,y.oq)(s);case 10:l++,e.next=6;break;case 13:D(null===w||void 0===w?void 0:w.filter((function(e){return e.id!==n.id})));case 14:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,h.jsx)(d.Z,{open:t,children:(0,h.jsx)(o.Z,{className:"edit-modal",children:(0,h.jsxs)(c.Z,{xs:7,className:"modal-background center",children:[(0,h.jsx)(m,{deletePost:le,item:n,openDeleteModal:ee,setOpenDeleteModal:ne,setOpenEditModal:C}),(0,h.jsxs)(o.Z,{className:"edit-input",children:[(0,h.jsx)(c.Z,{xs:6,sm:9,className:"left",children:(0,h.jsx)("h2",{children:te("Edit")})}),(0,h.jsx)(c.Z,{xs:6,sm:3,children:(0,h.jsx)(u.Z,{variant:"danger",onClick:function(e){e.preventDefault(),ne(!0)},children:te("Delete")})})]}),(0,h.jsx)(o.Z,{className:"edit-input",children:(0,h.jsx)(x.Z,{fullWidth:!0,size:"small",value:P,label:te("Title"),className:"input-width",onChange:function(e){return z(e.target.value)}})}),(0,h.jsx)(o.Z,{className:"edit-input",children:(0,h.jsx)(x.Z,{fullWidth:!0,size:"small",value:L,label:te("Price"),className:"input-width",onChange:function(e){return Q(e.target.value)}})}),(0,h.jsx)(o.Z,{className:"edit-input",children:(0,h.jsxs)(b.Z,{fullWidth:!0,children:[(0,h.jsx)(Z.Z,{size:"small",id:"brand-edit-label",children:te("Brand")}),(0,h.jsx)(j.Z,{labelId:"brand-edit-label",id:"brand-edit-select",size:"small",value:H,label:te("Brand"),onChange:function(e){return J(e.target.value)},children:ie(r.YS,"brand")})]})}),(0,h.jsx)(o.Z,{className:"edit-input",children:(0,h.jsxs)(b.Z,{fullWidth:!0,children:[(0,h.jsx)(Z.Z,{size:"small",id:"business-edit-label",children:te("Sale Type")}),(0,h.jsx)(j.Z,{labelId:"business-edit-label",id:"business-edit-select",size:"small",value:F,label:te("Sale Type"),onChange:function(e){return T(e.target.value)},children:ie(r.V5,"type")})]})}),(0,h.jsx)(o.Z,{className:"edit-input",children:(0,h.jsxs)(b.Z,{fullWidth:!0,children:[(0,h.jsx)(Z.Z,{size:"small",id:"condition-edit-label",children:te("Condition")}),(0,h.jsx)(j.Z,{labelId:"condition-edit-label",id:"condition-edit-select",size:"small",value:$,label:te("Condition"),onChange:function(e){return K(e.target.value)},children:ie([1,2,3,4,5,6,7,8,9,10],"condition")})]})}),(0,h.jsx)(o.Z,{className:"edit-input",children:(0,h.jsx)(v.Z,{fullwidth:"true",minRows:3,value:E,placeholder:te("Description"),label:te("Description"),onChange:function(e){return W(e.target.value)}})}),(0,h.jsxs)(o.Z,{className:"edit-input",children:[(0,h.jsx)(c.Z,{xs:6,children:(0,h.jsx)(u.Z,{onClick:function(){return C(!1)},children:te("Cancel")})}),(0,h.jsx)(c.Z,{xs:6,children:(0,h.jsx)(u.Z,{onClick:function(){ae(),C(!1)},children:te("Submit")})})]})]})})})},w=C},6157:function(e,n,t){t.d(n,{Z:function(){return v}});var i=t(1413),a=t(9439),l=t(5987),s=t(1694),r=t.n(s),d=t(2791),o=t(184),c=["as","disabled"];function u(e){var n=e.tagName,t=e.disabled,i=e.href,a=e.target,l=e.rel,s=e.role,r=e.onClick,d=e.tabIndex,o=void 0===d?0:d,c=e.type;n||(n=null!=i||null!=a||null!=l?"a":"button");var u={tagName:n};if("button"===n)return[{type:c||"button",disabled:t},u];var f=function(e){(t||"a"===n&&function(e){return!e||"#"===e.trim()}(i))&&e.preventDefault(),t?e.stopPropagation():null==r||r(e)};return"a"===n&&(i||(i="#"),t&&(i=void 0)),[{role:null!=s?s:"button",disabled:void 0,tabIndex:t?void 0:o,href:i,target:"a"===n?a:void 0,"aria-disabled":t||void 0,rel:"a"===n?l:void 0,onClick:f,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),f(e))}},u]}var f=d.forwardRef((function(e,n){var t=e.as,i=e.disabled,l=function(e,n){if(null==e)return{};var t,i,a={},l=Object.keys(e);for(i=0;i<l.length;i++)t=l[i],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,c),s=u(Object.assign({tagName:t,disabled:i},l)),r=(0,a.Z)(s,2),d=r[0],f=r[1].tagName;return(0,o.jsx)(f,Object.assign({},l,d,{ref:n}))}));f.displayName="Button";var h=t(162),m=["as","bsPrefix","variant","size","active","className"],p=d.forwardRef((function(e,n){var t=e.as,s=e.bsPrefix,d=e.variant,c=e.size,f=e.active,p=e.className,v=(0,l.Z)(e,m),x=(0,h.vE)(s,"btn"),b=u((0,i.Z)({tagName:t},v)),Z=(0,a.Z)(b,2),j=Z[0],g=Z[1].tagName;return(0,o.jsx)(g,(0,i.Z)((0,i.Z)((0,i.Z)({},j),v),{},{ref:n,className:r()(p,x,f&&"active",d&&"".concat(x,"-").concat(d),c&&"".concat(x,"-").concat(c),v.href&&v.disabled&&"disabled")}))}));p.displayName="Button",p.defaultProps={variant:"primary",active:!1,disabled:!1};var v=p}}]);
//# sourceMappingURL=893.f6b48cd5.chunk.js.map