"use strict";(self.webpackChunkbalisales=self.webpackChunkbalisales||[]).push([[929,906],{8679:function(e,t,a){a.d(t,{Z:function(){return Z}});var n=a(4165),s=a(5861),r=a(885),i=a(2791),l=a(7342),u=a(9743),c=a(2677),o=a(6788),m=a(169),d=a(4894),f=a(4453),h=a(9062),p=a(2892),g=a(184);var Z=function(e){var t=e.user,a=e.accountView,Z=(0,i.useState)([]),x=(0,r.Z)(Z,2),N=x[0],b=x[1],v=(0,i.useState)(!1),j=(0,r.Z)(v,2),y=j[0],S=j[1];(0,i.useEffect)((function(){(0,d.ww)(t).then((function(e){e.sort((function(e,t){return t.timeStamp-e.timeStamp})),b(e)})).catch((function(){console.error("cant get user posts")}))}),[]);var k=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(t){var a,s,r,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,f.cF)(),s=(0,h.JU)(p.db,"posts",t.id),e.next=4,(0,h.oe)(s);case 4:(0,d.sq)(t.id),r=0;case 6:if(!(r<t.numberOfImages)){e.next=13;break}return i=(0,f.iH)(a,"PostImages/".concat(t.id,"/image-").concat(r)),e.next=10,(0,f.oq)(i);case 10:r++,e.next=6;break;case 13:b(null===N||void 0===N?void 0:N.filter((function(e){return e.id!==t.id})));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return 0===N.length?(0,g.jsx)(o.Z,{}):N.length>0&&(0,g.jsx)(l.ZP,{container:!0,style:{padding:"0px"},className:"grid-container-posts",children:N.map((function(e){var t="url(".concat(null===e||void 0===e?void 0:e.urls[0],")"),n="id="+(null===e||void 0===e?void 0:e.id);return(0,g.jsx)(m.Z,{displayUrl:t,item:e,queryParam:n,accountView:a,deletePost:k,openEditModal:y,setOpenEditModal:S},e.id)}))})||(0,g.jsx)(u.Z,{children:(0,g.jsx)(c.Z,{xs:12,className:"center",children:"No Posts Available"})})}},906:function(e,t,a){a.r(t);var n=a(8679);t.default=n.Z},4929:function(e,t,a){a.r(t),a.d(t,{default:function(){return p}});var n=a(1413),s=a(885),r=a(2791),i=a(7022),l=a(9743),u=a(2677),c=a(4894),o=a(906),m=a(9135),d=a(6151),f=a(4530),h=a(184);var p=function(){var e,t=(0,r.useState)(""),a=(0,s.Z)(t,2),p=a[0],g=a[1],Z=(0,r.useState)(""),x=(0,s.Z)(Z,2),N=x[0],b=x[1],v=(0,r.useState)(""),j=(0,s.Z)(v,2),y=j[0],S=j[1],k=(0,r.useState)(""),w=(0,s.Z)(k,2),C=w[0],P=w[1],W=(0,r.useState)(""),E=(0,s.Z)(W,2),O=E[0],U=E[1],q=(0,r.useState)(""),L=(0,s.Z)(q,2),M=L[0],V=L[1],F=(0,r.useState)(""),H=(0,s.Z)(F,2),I=H[0],R=H[1],T=(0,r.useState)(""),z=(0,s.Z)(T,2),A=z[0],G=z[1],J=(0,r.useState)([]),B=(0,s.Z)(J,2),D=B[0],K=B[1],Q=(0,r.useState)(null),X=(0,s.Z)(Q,2),Y=X[0],$=X[1],_=(0,r.useState)({firstName:!0,lastName:!0,displayName:!0,phoneNumber:!0}),ee=(0,s.Z)(_,2),te=ee[0],ae=ee[1],ne=(0,r.useMemo)((function(){return!Object.values(te).some((function(e){return!1===e}))}),[te]);return(0,r.useEffect)((function(){(0,c.bG)().then((function(e){g(e.id),b(e.firstName),S(e.lastName),P(e.displayName),U(e.phoneNumber),V(e.instagram),R(e.facebook),K(e.posts||[]),ae({firstName:e.firstName.length>0,lastName:e.lastName.length>0,displayName:e.displayName.length>0,phoneNumber:0===e.phoneNumber.length||10===e.phoneNumber.length})}))}),[]),(0,h.jsx)(i.Z,{children:(0,h.jsxs)(l.Z,{children:[(0,h.jsxs)(u.Z,{xs:12,className:"center settings-container",children:[(0,h.jsxs)(l.Z,{children:[(0,h.jsx)(u.Z,{xs:12,md:"6",lg:4,className:"setting-item",children:(0,h.jsx)(f.Z,{fullWidth:!0,label:"first name",error:!te.firstName,type:"search",onChange:function(e){var t=e.target.value;ae((function(e){return(0,n.Z)((0,n.Z)({},e),{},{firstName:""!==t})})),b(t)},value:N})}),(0,h.jsx)(u.Z,{xs:12,md:"6",lg:4,className:"setting-item",children:(0,h.jsx)(f.Z,{fullWidth:!0,label:"last name",error:!te.lastName,type:"search",onChange:function(e){var t=e.target.value;ae((function(e){return(0,n.Z)((0,n.Z)({},e),{},{lastName:""!==t})})),S(t)},value:y})}),(0,h.jsx)(u.Z,{xs:12,md:"6",lg:4,className:"setting-item",children:(0,h.jsx)(f.Z,{fullWidth:!0,label:"display name",error:!te.displayName,type:"search",onChange:function(e){var t=e.target.value;ae((function(e){return(0,n.Z)((0,n.Z)({},e),{},{displayName:""!==t})})),P(t)},value:C})}),(0,h.jsx)(u.Z,{xs:12,md:"6",lg:4,className:"setting-item",children:(0,h.jsx)(f.Z,{fullWidth:!0,label:"phone number",error:!te.phoneNumber,onChange:function(e){var t=e.target.value.replace("(","").replace(")","").replace(" ","").replace("-","");ae((function(e){return(0,n.Z)((0,n.Z)({},e),{},{phoneNumber:0===t.length||10===t.length})})),U(t)},value:(e=O,(e.length>3?"(":"")+e.substring(0,3)+(e.length>3?") ":"")+e.substring(3,6)+(e.length>6?"-":"")+e.substring(6,10)),inputProps:{maxLength:14}})}),(0,h.jsx)(u.Z,{xs:12,md:"6",lg:4,className:"setting-item",children:(0,h.jsx)(f.Z,{fullWidth:!0,label:"instagram",color:"",type:"url",onChange:function(e){return V(e.target.value)},value:M})}),(0,h.jsx)(u.Z,{xs:12,md:"6",lg:4,className:"setting-item",children:(0,h.jsx)(f.Z,{fullWidth:!0,label:"facebook",color:"",type:"url",onChange:function(e){return R(e.target.value)},value:I})}),(0,h.jsx)(u.Z,{xs:12,className:"setting-item",children:(0,h.jsxs)("label",{className:"profile-label",htmlFor:"inputTag",children:[(0,h.jsx)("span",{style:{color:"black"},children:"Profile Picture"}),(0,h.jsx)("input",{id:"inputTag",className:"profile-input",type:"file",onChange:function(e){G(e.target.files[0]),$(URL.createObjectURL(e.target.files[0]))},accept:"/image/*"}),(0,h.jsx)("br",{}),Y?(0,h.jsx)("img",{src:Y,className:"upload-image",alt:"preview image"}):(0,h.jsx)(m.H3h,{size:40})]})})]}),(0,h.jsx)(l.Z,{children:(0,h.jsx)(u.Z,{xs:12,className:"submit-button",children:(0,h.jsx)(d.Z,{disabled:!ne,variant:"contained",onClick:function(){return(0,c.ps)({id:p,firstName:N,lastName:y,displayName:C,phoneNumber:O,instagram:M,facebook:I,posts:D},A)},children:"Submit"})})})]}),(0,h.jsx)("hr",{}),(0,h.jsx)(o.default,{user:p,accountView:!0})]})})}}}]);
//# sourceMappingURL=929.316fa188.chunk.js.map