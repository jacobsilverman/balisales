"use strict";(self.webpackChunkbalisales=self.webpackChunkbalisales||[]).push([[89],{1089:function(e,n,l){l.r(n),l.d(n,{default:function(){return M}});var t=l(885),i=l(2791),s=l(3504),a=l(7342),r=l(4165),d=l(5861),c=l(1083),o=l(6519),u=l(9743),h=l(2677),m=l(6157),x=l(184),Z=function(e){var n=e.deletePost,l=e.item,t=e.openDeleteModal,i=e.setOpenDeleteModal;return(0,x.jsx)(o.Z,{open:t,id:"delete-modal",children:(0,x.jsx)(u.Z,{className:"modal-dialog delete-modal",children:(0,x.jsxs)(h.Z,{xs:5,sm:5,md:2,className:"modal-content modal-background center",children:[(0,x.jsx)(u.Z,{className:"modal-header",children:(0,x.jsx)(h.Z,{className:"modal-title",children:"Do you want to delete this post?"})}),(0,x.jsxs)(u.Z,{children:[(0,x.jsx)(h.Z,{xs:6,children:(0,x.jsx)(m.Z,{onClick:function(){return i(!1)},children:"no"})}),(0,x.jsx)(h.Z,{xs:6,children:(0,x.jsx)(m.Z,{onClick:function(){n(l),i(!1)},children:"yes"})})]})]})})})},f=l(1747),p=l(4530),j=l(6362),v=l(9891),b=l(4925),g=l(3347),C=l(9062),N=l(2892),w=l(9135),k=l(4453),S=function(e){var n=e.item,l=e.openEditModal,s=e.setOpenEditModal,S=e.deletePost,M=(0,i.useState)(n.title),P=(0,t.Z)(M,2),y=P[0],D=P[1],z=(0,i.useState)(n.description),H=(0,t.Z)(z,2),I=H[0],V=H[1],O=(0,i.useState)(n.type),E=(0,t.Z)(O,2),W=E[0],B=E[1],R=(0,i.useState)(n.brand),F=(0,t.Z)(R,2),T=F[0],U=F[1],J=(0,i.useState)(n.condition),L=(0,t.Z)(J,2),Y=L[0],q=L[1],A=(0,i.useState)(n.price),G=(0,t.Z)(A,2),K=G[0],Q=G[1],X=(0,i.useState)(!1),$=(0,t.Z)(X,2),_=$[0],ee=$[1],ne=(0,i.useState)(n.numberOfImages),le=(0,t.Z)(ne,2),te=le[0],ie=(le[1],(0,i.useState)({})),se=(0,t.Z)(ie,2),ae=se[0],re=se[1],de=(0,i.useState)(""),ce=(0,t.Z)(de,2),oe=(ce[0],ce[1]);var ue=function(e){return e.map((function(e,n){return(0,x.jsx)("option",{value:e,children:e},n)}))},he=function(){var e=(0,d.Z)((0,r.Z)().mark((function e(){var l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=(0,C.JU)(N.db,"posts",n.id),e.next=3,(0,C.pl)(l,{title:y,type:W,brand:T,condition:Y,price:K,description:I,timeStamp:Date.now(),numberOfImages:te,author:{name:n.author.name,id:n.author.id}}).then((function(){var e=(0,k.iH)((0,k.cF)(),"PostImages/".concat(n.id,"/image-0"));console.log("pictureRef: ",e)})).catch((function(e){console.error("problem: ",e)})).finally((function(){window.location.reload()}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();a.ZP,n.urls.map((function(e){return(0,x.jsx)(a.ZP,{item:!0,className:"center",style:{backgroundImage:"url(".concat(e,")"),backgroundSize:"100% 100%",width:"100px",height:"100px"},onClick:function(){return function(e){re((function(n){var l;return n[e]=null===(l=!n[e])||void 0===l||l,n})),console.log(ae)}(e)},children:ae[e]},e)})),u.Z,h.Z,w.H3h;return(0,x.jsx)(o.Z,{open:l,children:(0,x.jsx)(u.Z,{className:"edit-modal",children:(0,x.jsxs)(h.Z,{xs:7,className:"modal-background center",children:[(0,x.jsx)(Z,{deletePost:S,item:n,openDeleteModal:_,setOpenDeleteModal:ee}),(0,x.jsxs)(u.Z,{className:"edit-input",children:[(0,x.jsx)(h.Z,{xs:6,sm:9,className:"left",children:(0,x.jsx)("h2",{children:"Edit"})}),(0,x.jsx)(h.Z,{xs:6,sm:3,children:(0,x.jsx)(m.Z,{variant:"danger",onClick:function(e){e.preventDefault(),ee(!0)},children:"Delete"})})]}),(0,x.jsx)(u.Z,{className:"edit-input",children:(0,x.jsx)(p.Z,{fullWidth:!0,size:"small",value:y,label:"Title",className:"input-width",color:"",onChange:function(e){return D(e.target.value)}})}),(0,x.jsx)(u.Z,{className:"edit-input",children:(0,x.jsx)(p.Z,{fullWidth:!0,size:"small",value:K,label:"Price",className:"input-width",color:"",onChange:function(e){return Q(e.target.value)}})}),(0,x.jsx)(u.Z,{className:"edit-input",children:(0,x.jsxs)(j.Z,{fullWidth:!0,children:[(0,x.jsx)(b.Z,{size:"small",id:"brand-label",children:"Brand"}),(0,x.jsxs)(g.Z,{labelId:"brand-label",id:"brand-select",size:"small",value:T,label:"Brand",onChange:function(e){return U(e.target.value)},children:[(0,x.jsx)(v.Z,{value:"default",children:"default"}),ue(c.YS)]})]})}),(0,x.jsx)(u.Z,{className:"edit-input",children:(0,x.jsxs)(j.Z,{fullWidth:!0,children:[(0,x.jsx)(b.Z,{size:"small",id:"business-label",children:"Business"}),(0,x.jsxs)(g.Z,{labelId:"business-label",id:"business-select",size:"small",value:W,label:"Type",onChange:function(e){return B(e.target.value)},children:[(0,x.jsx)(v.Z,{value:"default",children:"select"}),ue(c.V5)]})]})}),(0,x.jsx)(u.Z,{className:"edit-input",children:(0,x.jsxs)(j.Z,{fullWidth:!0,children:[(0,x.jsx)(b.Z,{size:"small",id:"condition-label",children:"Condition"}),(0,x.jsxs)(g.Z,{labelId:"condition-label",id:"condition-select",size:"small",value:Y,label:"Condition",onChange:function(e){return q(e.target.value)},children:[(0,x.jsx)(v.Z,{value:"default",children:"default"}),ue([1,2,3,4,5,6,7,8,9,10])]})]})}),(0,x.jsx)(u.Z,{className:"edit-input",children:(0,x.jsx)(f.Z,{fullwidth:"true",minRows:3,value:I,placeholder:"Description",label:"description",onChange:function(e){return V(e.target.value)}})}),(0,x.jsxs)(u.Z,{className:"edit-input",children:[(0,x.jsx)(h.Z,{xs:6,children:(0,x.jsx)(m.Z,{onClick:function(){return s(!1)},children:"Cancel"})}),(0,x.jsx)(h.Z,{xs:6,children:(0,x.jsx)(m.Z,{onClick:function(){he(),s(!1)},children:"Submit"})})]})]})})})};var M=function(e){var n=e.item,l=e.viewCount,r=e.accountView,d=e.deletePost,c=(0,i.useState)(!1),o=(0,t.Z)(c,2),u=o[0],h=o[1],m="id="+(null===n||void 0===n?void 0:n.id),Z=isNaN(12/l);return(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(S,{item:n,openEditModal:u,setOpenEditModal:h,deletePost:d}),(0,x.jsx)(a.ZP,{item:!0,className:"post-container",style:{backgroundImage:"url(".concat(null===n||void 0===n?void 0:n.urls[0],")")},id:null===n||void 0===n?void 0:n.id,xs:Z?4:12/l,children:(0,x.jsx)(s.rU,{className:"link",to:!r&&{pathname:"/singlePost",search:m},onClick:r&&function(e){e.preventDefault(),h(!0)},children:(null===n||void 0===n?void 0:n.numberOfImages)>1&&(0,x.jsx)("svg",{style:{marginLeft:"auto",marginRight:"1vw",width:"5vw",height:"5vw",color:"white"},viewBox:"0 0 24 24",children:(0,x.jsx)("path",{fill:"currentColor",d:"M21 16V6H7V16H21M21 4C21.53 4 22.04 4.21 22.41 4.59C22.79 4.96 23 5.47 23 6V16C23 16.53 22.79 17.04 22.41 17.41C22.04 17.79 21.53 18 21 18H7C5.89 18 5 17.1 5 16V6C5 4.89 5.89 4 7 4H21M3 20H18V22H3C2.47 22 1.96 21.79 1.59 21.41C1.21 21.04 1 20.53 1 20V9H3V20Z"})})})})]})}}}]);
//# sourceMappingURL=89.366ffd33.chunk.js.map